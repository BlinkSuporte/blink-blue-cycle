{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\victor.abrao\\\\Desktop\\\\source\\\\clientes-blue-cycle-ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Pagination from'react-js-pagination';// default\nimport Header from'../components/Header';import Footer from'../components/Footer';import Manufacturer from'../components/SideBar/Manufacturer';import Category from'../components/SideBar/Category';import ProductCard from'../components/Product/ProductCard';import{Loader}from'../components/Loader/Loader';import{scrollToTop,disconnect}from'../utils';import{fetchProductsByTag}from'../services/products-api';import{arrHighlights,arrOrigin}from'../constants';import BannerInterno from'../components/Highlights/BannerInterno';var Highlights=function Highlights(_ref){var match=_ref.match;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),qtd=_useState4[0],setQtd=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),products=_useState6[0],setProducts=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),highlight=_useState8[0],setHighlight=_useState8[1];// Props\nvar nameHighlight=match.params.name;// Paginate\nvar _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),currentPage=_useState10[0],setCurrentPage=_useState10[1];var totalRecords=qtd;var recordPerPage=process.env.REACT_APP_PAGINATION_RECORD_PER_PAGE;var pageRange=process.env.REACT_APP_PAGINATION_PAGE_RANGE;var handlePageChange=function handlePageChange(pageNumber){if(currentPage!==pageNumber){setLoading(true);setCurrentPage(pageNumber);}};// Scroll\nuseEffect(function(){return scrollToTop();},[isLoading]);// Load Data\nuseEffect(function(){setHighlight(arrHighlights[nameHighlight]);fetchProductsByTag(nameHighlight,currentPage,recordPerPage).then(function(result){if(result.data.Data){setProducts(result.data.Data.Dados);setQtd(result.data.Data.QuantidadeRegistrosTotal);}}).then(function(result){return setLoading(false);});/* Deixado somente 1 disconnect */ // .catch(reject => {\n//     disconnect();\n// })\n},[currentPage]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"section\",{className:\"conteudo_interno conteudo_padrao container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"filtro-sticky d-none d-lg-block\"},/*#__PURE__*/React.createElement(Manufacturer,null),/*#__PURE__*/React.createElement(Category,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"cards-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"titulo-container\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"titulo h2\"},highlight.titulo),/*#__PURE__*/React.createElement(\"p\",{className:\"total-itens\"},\"Total de Itens: \",/*#__PURE__*/React.createElement(\"span\",{className:\"total-itens_numero\"},qtd))),/*#__PURE__*/React.createElement(BannerInterno,{nameHighlight:nameHighlight}),/*#__PURE__*/React.createElement(\"div\",{className:\"cards cards-produto\"},!isLoading?products.map(function(product){return/*#__PURE__*/React.createElement(ProductCard,{key:\"highlight-card-\".concat(product.idProduto),product:product,origin:arrOrigin[\"pagina_\".concat(nameHighlight)]});}):/*#__PURE__*/React.createElement(Loader,{short:\"false\"})),/*#__PURE__*/React.createElement(\"nav\",{\"aria-label\":\"paginacao-promocoes\"},!isLoading&&/*#__PURE__*/React.createElement(Pagination,{hideFirstLastPages:true,activePage:currentPage,itemsCountPerPage:parseInt(recordPerPage),totalItemsCount:totalRecords,pageRangeDisplayed:parseInt(pageRange),onChange:handlePageChange,innerClass:\"pagination justify-content-end\",itemClass:\"page-item\",linkClass:\"page-link\"})))),/*#__PURE__*/React.createElement(Footer,null));};export default Highlights;","map":{"version":3,"sources":["C:/Users/victor.abrao/Desktop/source/clientes-blue-cycle-ecommerce/src/pages/Highlights.js"],"names":["React","useState","useEffect","Pagination","Header","Footer","Manufacturer","Category","ProductCard","Loader","scrollToTop","disconnect","fetchProductsByTag","arrHighlights","arrOrigin","BannerInterno","Highlights","match","isLoading","setLoading","qtd","setQtd","products","setProducts","highlight","setHighlight","nameHighlight","params","name","currentPage","setCurrentPage","totalRecords","recordPerPage","process","env","REACT_APP_PAGINATION_RECORD_PER_PAGE","pageRange","REACT_APP_PAGINATION_PAGE_RANGE","handlePageChange","pageNumber","then","result","data","Data","Dados","QuantidadeRegistrosTotal","titulo","map","product","idProduto","parseInt"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Pagination from 'react-js-pagination';\r\n// default\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\n\r\nimport Manufacturer from '../components/SideBar/Manufacturer';\r\nimport Category from '../components/SideBar/Category';\r\n\r\nimport ProductCard from '../components/Product/ProductCard';\r\nimport { Loader } from '../components/Loader/Loader';\r\nimport { scrollToTop, disconnect } from '../utils';\r\nimport { fetchProductsByTag } from '../services/products-api';\r\nimport { arrHighlights, arrOrigin } from '../constants'\r\nimport BannerInterno from '../components/Highlights/BannerInterno';\r\n\r\nconst Highlights = ({ match }) => {\r\n    const [isLoading, setLoading] = useState(true);\r\n    const [qtd, setQtd] = useState(0);\r\n    const [products, setProducts] = useState([]);\r\n\r\n    const [highlight, setHighlight] = useState('');\r\n\r\n    // Props\r\n    const nameHighlight = match.params.name;\r\n\r\n    // Paginate\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const totalRecords = qtd;\r\n    const recordPerPage = process.env.REACT_APP_PAGINATION_RECORD_PER_PAGE;\r\n    const pageRange = process.env.REACT_APP_PAGINATION_PAGE_RANGE;\r\n\r\n    const handlePageChange = pageNumber => {\r\n        if (currentPage !== pageNumber) {\r\n            setLoading(true)\r\n            setCurrentPage(pageNumber);\r\n        }\r\n    }\r\n\r\n    // Scroll\r\n    useEffect(() => scrollToTop(), [isLoading]);\r\n\r\n    // Load Data\r\n    useEffect(() => {\r\n        setHighlight(arrHighlights[nameHighlight]);\r\n\r\n        fetchProductsByTag(nameHighlight, currentPage, recordPerPage)\r\n            .then(result => {\r\n                if (result.data.Data) {\r\n                    setProducts(result.data.Data.Dados)\r\n                    setQtd(result.data.Data.QuantidadeRegistrosTotal)\r\n                }\r\n            })\r\n            .then(result => setLoading(false))\r\n            /* Deixado somente 1 disconnect */\r\n            // .catch(reject => {\r\n            //     disconnect();\r\n            // })\r\n    }, [currentPage])\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <section className=\"conteudo_interno conteudo_padrao container\">\r\n                <div className=\"filtro-sticky d-none d-lg-block\">\r\n                    <Manufacturer />\r\n                    <Category />\r\n                </div>\r\n                <div className=\"cards-container\">\r\n                    <div className=\"titulo-container\">\r\n                        <h4 className=\"titulo h2\">{highlight.titulo}</h4>\r\n                        <p className=\"total-itens\">Total de Itens: <span className=\"total-itens_numero\">{qtd}</span></p>\r\n                    </div>\r\n\r\n                    <BannerInterno nameHighlight={nameHighlight} />\r\n\r\n                    <div className=\"cards cards-produto\">\r\n                        {!isLoading ? (\r\n                            products.map( product =>\r\n                                <ProductCard\r\n                                    key={`highlight-card-${product.idProduto}`}\r\n                                    product={product}\r\n                                    origin={arrOrigin[`pagina_${nameHighlight}`]}\r\n                                />\r\n                            )\r\n                        ) : (\r\n                                <Loader short=\"false\" />\r\n                            )}\r\n                    </div>\r\n                    <nav aria-label=\"paginacao-promocoes\">\r\n                        {!isLoading &&\r\n                            <Pagination\r\n                                hideFirstLastPages\r\n                                activePage={currentPage}\r\n                                itemsCountPerPage={parseInt(recordPerPage)}\r\n                                totalItemsCount={totalRecords}\r\n                                pageRangeDisplayed={parseInt(pageRange)}\r\n                                onChange={handlePageChange}\r\n                                innerClass=\"pagination justify-content-end\"\r\n                                itemClass=\"page-item\"\r\n                                linkClass=\"page-link\"\r\n                            />\r\n                        }\r\n                    </nav>\r\n                </div>\r\n            </section>\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Highlights;"]},"metadata":{},"sourceType":"module"}