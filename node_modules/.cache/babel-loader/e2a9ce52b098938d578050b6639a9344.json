{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\victor.abrao\\\\Desktop\\\\source\\\\clientes-blue-cycle-ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,createElement}from'react';import{filtersLimitWord,arrayStringToArrayInt,clearSubCategorias}from'../../utils';import{getAllCategories}from'../../containers/CategoriesContainer';import{Loader}from'../Loader/Loader';var SubCategory=function SubCategory(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),subCategories=_useState2[0],setSubCategories=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setLoading=_useState4[1];var url='/busca';var search=window.location.search;var params=new URLSearchParams(search);var termo=params.get('t')||'';var fornecedores=params.get('f')||'';var categorias=params.get('c')||'';var arrCategorias=categorias?arrayStringToArrayInt(categorias):[];var subCategorias=params.get('s')||'';var arrSubCategorias=subCategorias?arrayStringToArrayInt(subCategorias):[];arrSubCategorias=clearSubCategorias(arrSubCategorias,arrCategorias,getAllCategories(0));var handleCheck=function handleCheck(e){e.preventDefault();if(!e.target.checked){arrSubCategorias=arrSubCategorias.filter(function(arr){return arr!=e.target.value;});}else{arrSubCategorias.push(parseInt(e.target.value));}window.location.href=url+'?t='+termo+'&c='+categorias+'&s='+arrSubCategorias.toString()+'&f='+fornecedores;};useEffect(function(){if(arrCategorias.length>0){var allCategories=getAllCategories(0);var sections=allCategories.filter(function(newarr){return arrCategorias.indexOf(newarr.idClassificacaoNivelAnterior)>-1;});setSubCategories(sections);}setLoading(false);},[]);return/*#__PURE__*/React.createElement(\"form\",{className:\"form-sticky\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-sticky_titulos\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"titulo h6\"},\"Subcategoria\")),!isLoading?subCategories.map(function(subCategory,index){return/*#__PURE__*/React.createElement(\"fieldset\",{key:\"field-sub-\".concat(index),className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",name:\"sub-\".concat(subCategory.idClassificacaoNivel),value:subCategory.idClassificacaoNivel,id:\"sub-\".concat(subCategory.idClassificacaoNivel),className:\"checkbox\",onClick:handleCheck,checked:arrSubCategorias.find(function(v){return v===subCategory.idClassificacaoNivel;})}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"sub-\".concat(subCategory.idClassificacaoNivel),title:subCategory.Descricao},filtersLimitWord(subCategory.Descricao)));}):/*#__PURE__*/React.createElement(Loader,{short:\"true\"}));};export default SubCategory;","map":{"version":3,"sources":["C:/Users/victor.abrao/Desktop/source/clientes-blue-cycle-ecommerce/src/components/SideBar/SubCategory.js"],"names":["React","useState","useEffect","createElement","filtersLimitWord","arrayStringToArrayInt","clearSubCategorias","getAllCategories","Loader","SubCategory","subCategories","setSubCategories","isLoading","setLoading","url","search","window","location","params","URLSearchParams","termo","get","fornecedores","categorias","arrCategorias","subCategorias","arrSubCategorias","handleCheck","e","preventDefault","target","checked","filter","arr","value","push","parseInt","href","toString","length","allCategories","sections","newarr","indexOf","idClassificacaoNivelAnterior","map","subCategory","index","idClassificacaoNivel","find","v","Descricao"],"mappings":"6JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,aAArC,KAA0D,OAA1D,CACA,OAASC,gBAAT,CAA2BC,qBAA3B,CAAkDC,kBAAlD,KAA4E,aAA5E,CACA,OAASC,gBAAT,KAAiC,sCAAjC,CACA,OAASC,MAAT,KAAuB,kBAAvB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,eACoBR,QAAQ,CAAC,EAAD,CAD5B,wCACfS,aADe,eACAC,gBADA,8BAEUV,QAAQ,CAAC,IAAD,CAFlB,yCAEfW,SAFe,eAEJC,UAFI,eAItB,GAAMC,CAAAA,GAAG,CAAG,QAAZ,CACA,GAAMC,CAAAA,MAAM,CAAGC,MAAM,CAACC,QAAP,CAAgBF,MAA/B,CACA,GAAMG,CAAAA,MAAM,CAAG,GAAIC,CAAAA,eAAJ,CAAoBJ,MAApB,CAAf,CACA,GAAMK,CAAAA,KAAK,CAAGF,MAAM,CAACG,GAAP,CAAW,GAAX,GAAmB,EAAjC,CACA,GAAMC,CAAAA,YAAY,CAAGJ,MAAM,CAACG,GAAP,CAAW,GAAX,GAAmB,EAAxC,CACA,GAAME,CAAAA,UAAU,CAAGL,MAAM,CAACG,GAAP,CAAW,GAAX,GAAmB,EAAtC,CACA,GAAIG,CAAAA,aAAa,CAAGD,UAAU,CAAGlB,qBAAqB,CAACkB,UAAD,CAAxB,CAAuC,EAArE,CACA,GAAME,CAAAA,aAAa,CAAGP,MAAM,CAACG,GAAP,CAAW,GAAX,GAAmB,EAAzC,CACA,GAAIK,CAAAA,gBAAgB,CAAGD,aAAa,CAAGpB,qBAAqB,CAACoB,aAAD,CAAxB,CAA0C,EAA9E,CAEAC,gBAAgB,CAAGpB,kBAAkB,CAACoB,gBAAD,CAAmBF,aAAnB,CAAkCjB,gBAAgB,CAAC,CAAD,CAAlD,CAArC,CAEA,GAAMoB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAO,CACvBA,CAAC,CAACC,cAAF,GAEA,GAAI,CAACD,CAAC,CAACE,MAAF,CAASC,OAAd,CAAuB,CACnBL,gBAAgB,CAAGA,gBAAgB,CAACM,MAAjB,CAAwB,SAAAC,GAAG,CAAI,CAAE,MAAOA,CAAAA,GAAG,EAAIL,CAAC,CAACE,MAAF,CAASI,KAAvB,CAA8B,CAA/D,CAAnB,CACH,CAFD,IAEO,CACHR,gBAAgB,CAACS,IAAjB,CAAsBC,QAAQ,CAACR,CAAC,CAACE,MAAF,CAASI,KAAV,CAA9B,EACH,CAEDlB,MAAM,CAACC,QAAP,CAAgBoB,IAAhB,CAAuBvB,GAAG,CACpB,KADiB,CACTM,KADS,CAEjB,KAFiB,CAETG,UAFS,CAGjB,KAHiB,CAGTG,gBAAgB,CAACY,QAAjB,EAHS,CAIjB,KAJiB,CAIThB,YAJd,CAKH,CAdD,CAgBApB,SAAS,CAAC,UAAM,CACZ,GAAIsB,aAAa,CAACe,MAAd,CAAuB,CAA3B,CAA8B,CAC1B,GAAMC,CAAAA,aAAa,CAAGjC,gBAAgB,CAAC,CAAD,CAAtC,CACA,GAAMkC,CAAAA,QAAQ,CAAGD,aAAa,CAACR,MAAd,CAAqB,SAAUU,MAAV,CAAkB,CACpD,MAAOlB,CAAAA,aAAa,CAACmB,OAAd,CAAsBD,MAAM,CAACE,4BAA7B,EAA6D,CAAC,CAArE,CACH,CAFgB,CAAjB,CAGAjC,gBAAgB,CAAC8B,QAAD,CAAhB,CACH,CACD5B,UAAU,CAAC,KAAD,CAAV,CACH,CATQ,CASN,EATM,CAAT,CAWA,mBACI,4BAAM,SAAS,CAAC,aAAhB,eACI,2BAAK,SAAS,CAAC,qBAAf,eACI,0BAAI,SAAS,CAAC,WAAd,iBADJ,CADJ,CAKK,CAACD,SAAD,CACGF,aAAa,CAACmC,GAAd,CAAkB,SAACC,WAAD,CAAcC,KAAd,qBACd,gCAAU,GAAG,qBAAeA,KAAf,CAAb,CAAqC,SAAS,CAAC,YAA/C,eACI,6BACI,IAAI,CAAC,UADT,CAEI,IAAI,eAASD,WAAW,CAACE,oBAArB,CAFR,CAGI,KAAK,CAAEF,WAAW,CAACE,oBAHvB,CAII,EAAE,eAASF,WAAW,CAACE,oBAArB,CAJN,CAKI,SAAS,CAAC,UALd,CAMI,OAAO,CAAErB,WANb,CAOI,OAAO,CAAED,gBAAgB,CAACuB,IAAjB,CAAsB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,GAAKJ,WAAW,CAACE,oBAAtB,EAAvB,CAPb,EADJ,cAUI,6BAAO,OAAO,eAASF,WAAW,CAACE,oBAArB,CAAd,CAA2D,KAAK,CAAEF,WAAW,CAACK,SAA9E,EAA0F/C,gBAAgB,CAAC0C,WAAW,CAACK,SAAb,CAA1G,CAVJ,CADc,EAAlB,CADH,cAgBO,oBAAC,MAAD,EAAQ,KAAK,CAAC,MAAd,EArBZ,CADJ,CA0BH,CArED,CAuEA,cAAe1C,CAAAA,WAAf","sourcesContent":["import React, { useState, useEffect, createElement } from 'react';\r\nimport { filtersLimitWord, arrayStringToArrayInt, clearSubCategorias } from '../../utils';\r\nimport { getAllCategories } from '../../containers/CategoriesContainer';\r\nimport { Loader } from '../Loader/Loader';\r\n\r\nconst SubCategory = () => {\r\n    const [subCategories, setSubCategories] = useState([]);\r\n    const [isLoading, setLoading] = useState(true);\r\n\r\n    const url = '/busca';\r\n    const search = window.location.search;\r\n    const params = new URLSearchParams(search);\r\n    const termo = params.get('t') || '';\r\n    const fornecedores = params.get('f') || '';\r\n    const categorias = params.get('c') || '';\r\n    let arrCategorias = categorias ? arrayStringToArrayInt(categorias) : [];\r\n    const subCategorias = params.get('s') || '';\r\n    let arrSubCategorias = subCategorias ? arrayStringToArrayInt(subCategorias) : [];\r\n    \r\n    arrSubCategorias = clearSubCategorias(arrSubCategorias, arrCategorias, getAllCategories(0));\r\n\r\n    const handleCheck = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!e.target.checked) {\r\n            arrSubCategorias = arrSubCategorias.filter(arr => { return arr != e.target.value })\r\n        } else {\r\n            arrSubCategorias.push(parseInt(e.target.value))\r\n        }\r\n\r\n        window.location.href = url\r\n            + '?t=' + termo\r\n            + '&c=' + categorias\r\n            + '&s=' + arrSubCategorias.toString()\r\n            + '&f=' + fornecedores\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (arrCategorias.length > 0) {\r\n            const allCategories = getAllCategories(0);\r\n            const sections = allCategories.filter(function (newarr) {\r\n                return arrCategorias.indexOf(newarr.idClassificacaoNivelAnterior) > -1;\r\n            });\r\n            setSubCategories(sections);\r\n        }\r\n        setLoading(false);\r\n    }, [])\r\n\r\n    return (\r\n        <form className=\"form-sticky\">\r\n            <div className=\"form-sticky_titulos\">\r\n                <h6 className=\"titulo h6\">Subcategoria</h6>\r\n                {/* {createElement('a', { href: `/busca?t=${termo}&c=${categorias}&f=${fornecedores}`, className: \"limpar-filtro\" }, 'Limpar')} */}\r\n            </div>\r\n            {!isLoading ? (\r\n                subCategories.map((subCategory, index) => (\r\n                    <fieldset key={`field-sub-${index}`} className=\"form-group\">\r\n                        <input\r\n                            type=\"checkbox\"\r\n                            name={`sub-${subCategory.idClassificacaoNivel}`}\r\n                            value={subCategory.idClassificacaoNivel}\r\n                            id={`sub-${subCategory.idClassificacaoNivel}`}\r\n                            className=\"checkbox\"\r\n                            onClick={handleCheck}\r\n                            checked={arrSubCategorias.find(v => v === subCategory.idClassificacaoNivel)}\r\n                        />\r\n                        <label htmlFor={`sub-${subCategory.idClassificacaoNivel}`} title={subCategory.Descricao}>{filtersLimitWord(subCategory.Descricao)}</label>\r\n                    </fieldset>\r\n                ))\r\n            ) : (\r\n                    <Loader short=\"true\" />\r\n                )}\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default SubCategory;"]},"metadata":{},"sourceType":"module"}