{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\victor.abrao\\\\Desktop\\\\source\\\\clientes-blue-cycle-ecommerce\\\\src\\\\pages\\\\InvoiceDetail.js\";\nimport React, { useState, useEffect, createElement } from 'react'; // default\n\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport { Loader } from '../components/Loader/Loader';\nimport { formatMoney, disconnect, formatDateToView, setItemSession } from '../utils';\nimport { fetchInvoice, fetchInvoiceItems, fetchTracking, fetchExcel, fetchNF } from '../services/invoices-api';\nimport { postDuplicateCart, fetchCartItems } from '../services/cart-api';\nimport { trackingIcons } from '../constants/';\nimport * as CartActions from '../store/actions/cart';\nimport { connect } from 'react-redux';\n\nconst Swal = require('sweetalert2');\n\nconst InvoiceDetail = ({\n  match,\n  refreshCartFn\n}) => {\n  const [isLoading, setLoading] = useState(true);\n  const [invoice, setInvoice] = useState([]);\n  const [invoiceItems, setInvoiceItems] = useState([]);\n  const [trackings, setTracking] = useState([]);\n  const [notasFiscais, setNotasFiscais] = useState([]);\n  const idInvoice = match.params.id;\n  useEffect(() => {\n    fetchInvoice(idInvoice).then(result => {\n      setInvoice(result.data.Data.Dados[0]);\n      setLoading(false);\n    }).catch(reject => {\n      disconnect();\n    });\n  }, []);\n  useEffect(() => {\n    fetchInvoiceItems(idInvoice).then(result => {\n      if (result.data.Data) {\n        setInvoiceItems(result.data.Data.Dados);\n        setLoading(false);\n      }\n    });\n    /* Deixado somente 1 disconnect */\n    // .catch(reject => {\n    //     disconnect();\n    // })\n  }, []);\n  useEffect(() => {\n    fetchTracking(idInvoice).then(result => {\n      if (result.data.Data) {\n        setTracking(result.data.Data.Dados);\n        setLoading(false);\n      }\n    });\n    /* Deixado somente 1 disconnect */\n    // .catch(reject => {\n    //     disconnect();\n    // })\n  }, []);\n  useEffect(() => {\n    fetchNF(idInvoice).then(result => {\n      if (result.data.Data) {\n        setNotasFiscais(result.data.Data.Dados);\n      }\n    });\n    /* Deixado somente 1 disconnect */\n    // .catch(reject => {\n    //     disconnect();\n    // })\n  }, []);\n\n  const handleExcel = () => {\n    fetchExcel(idInvoice).then(result => {\n      const data = result.data.Data.Arquivo;\n      const arrayBuffer = base64ToArrayBuffer(data);\n      createAndDownloadBlobFile(arrayBuffer, result.data.Data.NomeArquivo);\n    }).catch(reject => {\n      disconnect();\n    });\n  };\n\n  const handleDuplicateInvoice = idInvoice => {\n    postDuplicateCart(idInvoice).then(result => {\n      if (result.data.Codigo === 200) {\n        fetchCartItems().then(result => {\n          if (result.data.Data.Dados.length > 0) {\n            setItemSession('_carrinho', JSON.stringify(result.data.Data));\n            refreshCartFn(result.data.Data);\n            window.location = '/carrinho';\n          }\n        }).catch(reject => {\n          disconnect();\n        });\n      } else {\n        console.debug('Error');\n      }\n    });\n  };\n\n  function base64ToArrayBuffer(base64) {\n    const binaryString = window.atob(base64);\n    const bytes = new Uint8Array(binaryString.length);\n    return bytes.map((byte, i) => binaryString.charCodeAt(i));\n  }\n\n  function createAndDownloadBlobFile(body, filename) {\n    const blob = new Blob([body]);\n    const fileName = filename;\n\n    if (navigator.msSaveBlob) {\n      // IE 10+\n      navigator.msSaveBlob(blob, fileName);\n    } else {\n      const link = document.createElement('a'); // Browsers that support HTML5 download attribute\n\n      if (link.download !== undefined) {\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', fileName);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      }\n    }\n  }\n\n  const ItemStatusIcon = invoiceItem => {\n    const faturada = invoiceItem.invoiceItem.QuantidadeFaturada;\n    const pedida = invoiceItem.invoiceItem.QuantidadePedida;\n\n    if (faturada === 0) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon icon-times c-laranja\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 20\n        }\n      });\n    }\n\n    if (faturada === pedida) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon icon-check c-roxo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 20\n        }\n      });\n    }\n\n    if (faturada < pedida) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: \"icon icon-brightness c-roxo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 20\n        }\n      });\n    }\n  };\n\n  const Tracking = () => {\n    return trackings.map((tracking, index) => /*#__PURE__*/React.createElement(\"li\", {\n      key: `track-${index}`,\n      className: tracking.Data ? \"step step--active\" : \"step\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"step-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: `icon ${trackingIcons[tracking.CodigoStatusPedido]}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 44\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"step-conteudo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"step-data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }\n    }, tracking.Data && formatDateToView(tracking.Data)), /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"titulo h6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    }, tracking.Status))));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"pedidos-detalhe container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sect-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"breadcrumb list-unstyled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 25\n    }\n  }, createElement('a', {\n    href: '/'\n  }, \"PÃ¡gina Principal\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 25\n    }\n  }, createElement('a', {\n    href: '/pedidos'\n  }, \"Meus Pedidos\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 25\n    }\n  }, \"Detalhe do Pedido\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sect-titulo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"titulo h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 25\n    }\n  }, \"Pedido \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"c-laranja\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 58\n    }\n  }, invoice.NumeroPedido)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row pedidos-detalhe--wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 col-md-3 col-lg-2 pedidos-detalhe--item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"pedidos-detalhe--item-titulo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 25\n    }\n  }, \"Status do pedido:\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"pedidos-detalhe--item-conteudo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 71\n    }\n  }, invoice.Status))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 col-md-3 col-lg-2 pedidos-detalhe--item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"pedidos-detalhe--item-titulo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 25\n    }\n  }, \"Valor da compra:\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"pedidos-detalhe--item-conteudo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 71\n    }\n  }, \"R$ \", formatMoney(invoice.Valor, 2, ',', '.')))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 col-md-3 col-lg-2 pedidos-detalhe--item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"pedidos-detalhe--item-titulo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 25\n    }\n  }, \"Condi\\xE7\\xE3o de Pagamento\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"pedidos-detalhe--item-conteudo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 71\n    }\n  }, invoice.CondicaoPagamento))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 col-md-3 col-lg-3 col-xl-2 pedidos-detalhe--item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"pedidos-detalhe--item-titulo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 25\n    }\n  }, \"Data da Entrega Prevista:\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"pedidos-detalhe--item-conteudo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 71\n    }\n  }, !invoice.DataEntrega ? 'Em definiÃ§Ã£o' : formatDateToView(invoice.DataEntrega) + '-' + invoice.PeriodoEntrega))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-3 col-xl-4 pedidos-detalhe--item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    \"data-toggle\": \"modal\",\n    \"data-target\": \"#modalPedidosDetalhe\",\n    className: \"btn btn--lg btn--branco btn--full btn--bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"icon icon-bar-code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 144\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 188\n    }\n  }, \"Boleto de pagamento\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row pedidos-detalhe--wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-5 col-lg-4 col-xl-3 pedidos-detalhe--item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"pedidos-detalhe--item-titulo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 25\n    }\n  }, \"Endere\\xE7o da Entrega\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"pedidos-detalhe--item-conteudo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 25\n    }\n  }, invoice.EnderecoEntrega)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 col-md-4 col-lg-3 pedidos-detalhe--item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"pedidos-detalhe--item-titulo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 25\n    }\n  }, \"Agendamento da Entrega:\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"pedidos-detalhe--item-conteudo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 25\n    }\n  }, \"Tempo estimado sujeito a mudan\\xE7as\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 col-md-3 col-lg-2 pedidos-detalhe--item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"pedidos-detalhe--item-titulo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 25\n    }\n  }, \"Data da Compra:\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"pedidos-detalhe--item-conteudo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 71\n    }\n  }, formatDateToView(invoice.DataEmissao)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-3 col-xl-4 pedidos-detalhe--item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    \"data-toggle\": \"modal\",\n    \"data-target\": \"#modalNotaFiscal\",\n    className: \"btn btn--lg btn--branco btn--full btn--bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"icon icon-invoice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 140\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 183\n    }\n  }, \"Nota Fiscal\"), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge badge-roxo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 208\n    }\n  }, notasFiscais.length)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"steps\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"ol\", {\n    className: \"steps-lista list-unstyled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 21\n    }\n  }, !isLoading ? /*#__PURE__*/React.createElement(Tracking, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 29\n    }\n  }) : /*#__PURE__*/React.createElement(Loader, {\n    short: \"false\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-lg-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"titulo h2 mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 25\n    }\n  }, \"Itens do pedido\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-lg-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    onClick: handleExcel,\n    className: \"btn btn--lg btn--branco btn--bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"icon icon-doc-excel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 29\n    }\n  }, \"Download Excel\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-lg-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    onClick: () => {\n      if (window.confirm('Deseja repetir esse pedido?')) handleDuplicateInvoice(invoice.idPedido);\n    },\n    className: \"btn btn--lg btn--branco btn--bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-refresh\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 29\n    }\n  }, \"Repetir Pedido\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tabela-overflow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 17\n    }\n  }, !isLoading ? /*#__PURE__*/React.createElement(\"table\", {\n    className: \"tabela tabela-listrada\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    width: \"40\",\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 37\n    }\n  }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n    width: \"100\",\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 37\n    }\n  }, \"Qtd. Atendida\"), /*#__PURE__*/React.createElement(\"th\", {\n    width: \"100\",\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 37\n    }\n  }, \"Quantidade\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 37\n    }\n  }, \"Descri\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 37\n    }\n  }, \"A\\xE7\\xE3o\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 29\n    }\n  }, invoiceItems.map(invoiceItem => /*#__PURE__*/React.createElement(\"tr\", {\n    key: `invoice-item-${invoiceItem.Item}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(ItemStatusIcon, {\n    invoiceItem: invoiceItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 41\n    }\n  }, invoiceItem.QuantidadeFaturada), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 41\n    }\n  }, invoiceItem.QuantidadePedida), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 41\n    }\n  }, invoiceItem.Descricao), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 41\n    }\n  }, createElement('a', {\n    href: `/produto/${invoiceItem.idProduto}`,\n    target: \"_blank\",\n    className: \"link-texto link-texto--roxo font-weight-normal\"\n  }, \"Ver produto\")))))) : /*#__PURE__*/React.createElement(Loader, {\n    short: \"false\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sect-footer align-items-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 17\n    }\n  }, createElement('a', {\n    href: '/pedidos',\n    className: \"btn btn--cinza btn--block btn-full btn--bold\"\n  }, \"Voltar\"))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal modal-boleto fade\",\n    id: \"modalPedidosDetalhe\",\n    tabIndex: \"-1\",\n    role: \"dialog\",\n    \"aria-labelledby\": \"modalPedidosDetalhe\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-dialog modal-dialog-centered\",\n    role: \"document\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"../img/img-modal.png\",\n    alt: \"Imagem representativa de uma folha de papel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"titulo h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 33\n    }\n  }, \"Seu boleto est\\xE1 dispon\\xEDvel no portal Rede blink\")), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"close\",\n    \"data-dismiss\": \"modal\",\n    \"aria-label\": \"Close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"icon icon-times\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"ol\", {\n    className: \"lista-modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"lista-modal_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 33\n    }\n  }, \"Acesse o Portal\"), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"lista-modal_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 33\n    }\n  }, \"Entre no item \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 80\n    }\n  }, \"\\\"Central de Compras\\\"\"), \" do menu\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal modal-boleto modal-nota fade\",\n    id: \"modalNotaFiscal\",\n    tabIndex: \"-1\",\n    role: \"dialog\",\n    \"aria-labelledby\": \"modalNotaFiscal\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-dialog modal-dialog-centered\",\n    role: \"document\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"titulo h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 33\n    }\n  }, \"Notas Fiscais Dispon\\xEDveis\")), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"close\",\n    \"data-dismiss\": \"modal\",\n    \"aria-label\": \"Close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"icon icon-times\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-body px-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-borderless mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 41\n    }\n  }, \"N\\xFAmero Nota Fiscal\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 41\n    }\n  }, \"Data\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 41\n    }\n  }, \"A\\xE7\\xE3o\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 33\n    }\n  }, notasFiscais.map(notaFiscal => /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 45\n    }\n  }, notaFiscal.NumeroNF), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 45\n    }\n  }, formatDateToView(notaFiscal.DataEmissao)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: notaFiscal.Link,\n    target: \"_blank\",\n    className: \"link-texto link-texto--roxo font-weight-normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 49\n    }\n  }, \"Ver Nota\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    \"data-dismiss\": \"modal\",\n    \"aria-label\": \"Close\",\n    className: \"btn btn--lg btn--roxo btn--bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 29\n    }\n  }, \"Fechar\"))))));\n};\n\nconst mapDispatchToProps = dispatch => ({\n  refreshCartFn: data => dispatch(CartActions.refreshCart(data))\n});\n\nexport default connect('', mapDispatchToProps)(InvoiceDetail);","map":{"version":3,"sources":["C:/Users/victor.abrao/Desktop/source/clientes-blue-cycle-ecommerce/src/pages/InvoiceDetail.js"],"names":["React","useState","useEffect","createElement","Header","Footer","Loader","formatMoney","disconnect","formatDateToView","setItemSession","fetchInvoice","fetchInvoiceItems","fetchTracking","fetchExcel","fetchNF","postDuplicateCart","fetchCartItems","trackingIcons","CartActions","connect","Swal","require","InvoiceDetail","match","refreshCartFn","isLoading","setLoading","invoice","setInvoice","invoiceItems","setInvoiceItems","trackings","setTracking","notasFiscais","setNotasFiscais","idInvoice","params","id","then","result","data","Data","Dados","catch","reject","handleExcel","Arquivo","arrayBuffer","base64ToArrayBuffer","createAndDownloadBlobFile","NomeArquivo","handleDuplicateInvoice","Codigo","length","JSON","stringify","window","location","console","debug","base64","binaryString","atob","bytes","Uint8Array","map","byte","i","charCodeAt","body","filename","blob","Blob","fileName","navigator","msSaveBlob","link","document","download","undefined","url","URL","createObjectURL","setAttribute","style","visibility","appendChild","click","removeChild","ItemStatusIcon","invoiceItem","faturada","QuantidadeFaturada","pedida","QuantidadePedida","Tracking","tracking","index","CodigoStatusPedido","Status","href","NumeroPedido","Valor","CondicaoPagamento","DataEntrega","PeriodoEntrega","EnderecoEntrega","DataEmissao","confirm","idPedido","Item","Descricao","idProduto","target","className","notaFiscal","NumeroNF","Link","mapDispatchToProps","dispatch","refreshCart"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,aAArC,QAA0D,OAA1D,C,CACA;;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,MAAT,QAAuB,6BAAvB;AACA,SAASC,WAAT,EAAsBC,UAAtB,EAAkCC,gBAAlC,EAAoDC,cAApD,QAA0E,UAA1E;AACA,SAASC,YAAT,EAAuBC,iBAAvB,EAA0CC,aAA1C,EAAyDC,UAAzD,EAAqEC,OAArE,QAAoF,0BAApF;AACA,SAASC,iBAAT,EAA4BC,cAA5B,QAAkD,sBAAlD;AACA,SAASC,aAAT,QAA8B,eAA9B;AACA,OAAO,KAAKC,WAAZ,MAA6B,uBAA7B;AACA,SAASC,OAAT,QAAwB,aAAxB;;AAEA,MAAMC,IAAI,GAAGC,OAAO,CAAC,aAAD,CAApB;;AAEA,MAAMC,aAAa,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAD,KAA8B;AAChD,QAAM,CAACC,SAAD,EAAYC,UAAZ,IAA0B1B,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAAC2B,OAAD,EAAUC,UAAV,IAAwB5B,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAAC6B,YAAD,EAAeC,eAAf,IAAkC9B,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAAC+B,SAAD,EAAYC,WAAZ,IAA2BhC,QAAQ,CAAC,EAAD,CAAzC;AACA,QAAM,CAACiC,YAAD,EAAeC,eAAf,IAAkClC,QAAQ,CAAC,EAAD,CAAhD;AAEA,QAAMmC,SAAS,GAAGZ,KAAK,CAACa,MAAN,CAAaC,EAA/B;AAEApC,EAAAA,SAAS,CAAC,MAAM;AACZS,IAAAA,YAAY,CAACyB,SAAD,CAAZ,CACKG,IADL,CACUC,MAAM,IAAI;AACZX,MAAAA,UAAU,CAACW,MAAM,CAACC,IAAP,CAAYC,IAAZ,CAAiBC,KAAjB,CAAuB,CAAvB,CAAD,CAAV;AACAhB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAJL,EAKKiB,KALL,CAKWC,MAAM,IAAI;AACbrC,MAAAA,UAAU;AACb,KAPL;AAQH,GATQ,EASN,EATM,CAAT;AAWAN,EAAAA,SAAS,CAAC,MAAM;AACZU,IAAAA,iBAAiB,CAACwB,SAAD,CAAjB,CACKG,IADL,CACUC,MAAM,IAAI;AACZ,UAAIA,MAAM,CAACC,IAAP,CAAYC,IAAhB,EAAsB;AAClBX,QAAAA,eAAe,CAACS,MAAM,CAACC,IAAP,CAAYC,IAAZ,CAAiBC,KAAlB,CAAf;AACAhB,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACJ,KANL;AAOA;AACA;AACA;AACA;AACH,GAZQ,EAYN,EAZM,CAAT;AAcAzB,EAAAA,SAAS,CAAC,MAAM;AACZW,IAAAA,aAAa,CAACuB,SAAD,CAAb,CACKG,IADL,CACUC,MAAM,IAAI;AACZ,UAAIA,MAAM,CAACC,IAAP,CAAYC,IAAhB,EAAsB;AAClBT,QAAAA,WAAW,CAACO,MAAM,CAACC,IAAP,CAAYC,IAAZ,CAAiBC,KAAlB,CAAX;AACAhB,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACJ,KANL;AAOA;AACA;AACA;AACA;AACH,GAZQ,EAYN,EAZM,CAAT;AAcAzB,EAAAA,SAAS,CAAC,MAAM;AACZa,IAAAA,OAAO,CAACqB,SAAD,CAAP,CACKG,IADL,CACUC,MAAM,IAAI;AACZ,UAAIA,MAAM,CAACC,IAAP,CAAYC,IAAhB,EAAsB;AAClBP,QAAAA,eAAe,CAACK,MAAM,CAACC,IAAP,CAAYC,IAAZ,CAAiBC,KAAlB,CAAf;AACH;AACJ,KALL;AAMA;AACA;AACA;AACA;AACH,GAXQ,EAWN,EAXM,CAAT;;AAaA,QAAMG,WAAW,GAAG,MAAM;AACtBhC,IAAAA,UAAU,CAACsB,SAAD,CAAV,CACKG,IADL,CACUC,MAAM,IAAI;AACZ,YAAMC,IAAI,GAAGD,MAAM,CAACC,IAAP,CAAYC,IAAZ,CAAiBK,OAA9B;AACA,YAAMC,WAAW,GAAGC,mBAAmB,CAACR,IAAD,CAAvC;AACAS,MAAAA,yBAAyB,CAACF,WAAD,EAAcR,MAAM,CAACC,IAAP,CAAYC,IAAZ,CAAiBS,WAA/B,CAAzB;AACH,KALL,EAMKP,KANL,CAMWC,MAAM,IAAI;AACbrC,MAAAA,UAAU;AACb,KARL;AAUH,GAXD;;AAaA,QAAM4C,sBAAsB,GAAIhB,SAAD,IAAe;AAC1CpB,IAAAA,iBAAiB,CAACoB,SAAD,CAAjB,CACKG,IADL,CACUC,MAAM,IAAI;AACZ,UAAIA,MAAM,CAACC,IAAP,CAAYY,MAAZ,KAAuB,GAA3B,EAAgC;AAC5BpC,QAAAA,cAAc,GACTsB,IADL,CACUC,MAAM,IAAI;AACZ,cAAIA,MAAM,CAACC,IAAP,CAAYC,IAAZ,CAAiBC,KAAjB,CAAuBW,MAAvB,GAAgC,CAApC,EAAuC;AACnC5C,YAAAA,cAAc,CAAC,eAAD,EAAkB6C,IAAI,CAACC,SAAL,CAAehB,MAAM,CAACC,IAAP,CAAYC,IAA3B,CAAlB,CAAd;AACAjB,YAAAA,aAAa,CAACe,MAAM,CAACC,IAAP,CAAYC,IAAb,CAAb;AACAe,YAAAA,MAAM,CAACC,QAAP,GAAkB,WAAlB;AACH;AACJ,SAPL,EAQKd,KARL,CAQWC,MAAM,IAAI;AACbrC,UAAAA,UAAU;AACb,SAVL;AAWH,OAZD,MAYO;AACHmD,QAAAA,OAAO,CAACC,KAAR,CAAc,OAAd;AACH;AACJ,KAjBL;AAkBH,GAnBD;;AAqBA,WAASX,mBAAT,CAA6BY,MAA7B,EAAqC;AACjC,UAAMC,YAAY,GAAGL,MAAM,CAACM,IAAP,CAAYF,MAAZ,CAArB;AACA,UAAMG,KAAK,GAAG,IAAIC,UAAJ,CAAeH,YAAY,CAACR,MAA5B,CAAd;AACA,WAAOU,KAAK,CAACE,GAAN,CAAU,CAACC,IAAD,EAAOC,CAAP,KAAaN,YAAY,CAACO,UAAb,CAAwBD,CAAxB,CAAvB,CAAP;AACH;;AAED,WAASlB,yBAAT,CAAmCoB,IAAnC,EAAyCC,QAAzC,EAAmD;AAC/C,UAAMC,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACH,IAAD,CAAT,CAAb;AACA,UAAMI,QAAQ,GAAGH,QAAjB;;AACA,QAAII,SAAS,CAACC,UAAd,EAA0B;AACtB;AACAD,MAAAA,SAAS,CAACC,UAAV,CAAqBJ,IAArB,EAA2BE,QAA3B;AACH,KAHD,MAGO;AACH,YAAMG,IAAI,GAAGC,QAAQ,CAAC3E,aAAT,CAAuB,GAAvB,CAAb,CADG,CAEH;;AACA,UAAI0E,IAAI,CAACE,QAAL,KAAkBC,SAAtB,EAAiC;AAC7B,cAAMC,GAAG,GAAGC,GAAG,CAACC,eAAJ,CAAoBX,IAApB,CAAZ;AACAK,QAAAA,IAAI,CAACO,YAAL,CAAkB,MAAlB,EAA0BH,GAA1B;AACAJ,QAAAA,IAAI,CAACO,YAAL,CAAkB,UAAlB,EAA8BV,QAA9B;AACAG,QAAAA,IAAI,CAACQ,KAAL,CAAWC,UAAX,GAAwB,QAAxB;AACAR,QAAAA,QAAQ,CAACR,IAAT,CAAciB,WAAd,CAA0BV,IAA1B;AACAA,QAAAA,IAAI,CAACW,KAAL;AACAV,QAAAA,QAAQ,CAACR,IAAT,CAAcmB,WAAd,CAA0BZ,IAA1B;AACH;AACJ;AACJ;;AAED,QAAMa,cAAc,GAAGC,WAAW,IAAI;AAClC,UAAMC,QAAQ,GAAGD,WAAW,CAACA,WAAZ,CAAwBE,kBAAzC;AACA,UAAMC,MAAM,GAAGH,WAAW,CAACA,WAAZ,CAAwBI,gBAAvC;;AAEA,QAAIH,QAAQ,KAAK,CAAjB,EAAoB;AAChB,0BAAO;AAAM,QAAA,SAAS,EAAC,2BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;;AAED,QAAIA,QAAQ,KAAKE,MAAjB,EAAyB;AACrB,0BAAO;AAAM,QAAA,SAAS,EAAC,wBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;;AAED,QAAIF,QAAQ,GAAGE,MAAf,EAAuB;AACnB,0BAAO;AAAM,QAAA,SAAS,EAAC,6BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;AACJ,GAfD;;AAiBA,QAAME,QAAQ,GAAG,MAAM;AACnB,WAAOhE,SAAS,CAACkC,GAAV,CAAc,CAAC+B,QAAD,EAAWC,KAAX,kBACjB;AAAI,MAAA,GAAG,EAAG,SAAQA,KAAM,EAAxB;AAA2B,MAAA,SAAS,EAAED,QAAQ,CAACvD,IAAT,GAAgB,mBAAhB,GAAsC,MAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA2B;AAAM,MAAA,SAAS,EAAG,QAAOxB,aAAa,CAAC+E,QAAQ,CAACE,kBAAV,CAA8B,EAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA3B,CADJ,eAEI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6BF,QAAQ,CAACvD,IAAT,IAAiBjC,gBAAgB,CAACwF,QAAQ,CAACvD,IAAV,CAA9D,CADJ,eAEI;AAAI,MAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2BuD,QAAQ,CAACG,MAApC,CAFJ,CAFJ,CADG,CAAP;AASH,GAVD;;AAYA,sBACI,uDACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAS,IAAA,SAAS,EAAC,2BAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,0BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEKjG,aAAa,CAAC,GAAD,EAAM;AAAEkG,IAAAA,IAAI,EAAE;AAAR,GAAN,EAAqB,kBAArB,CAFlB,CADJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEKlG,aAAa,CAAC,GAAD,EAAM;AAAEkG,IAAAA,IAAI,EAAE;AAAR,GAAN,EAA4B,cAA5B,CAFlB,CALJ,eASI;AAAI,IAAA,SAAS,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBATJ,CADJ,eAYI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAiC;AAAM,IAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6BzE,OAAO,CAAC0E,YAArC,CAAjC,CADJ,CAZJ,CADJ,eAiBI;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,+CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,IAAA,SAAS,EAAC,8BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI;AAAG,IAAA,SAAS,EAAC,gCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA8C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAI1E,OAAO,CAACwE,MAAZ,CAA9C,CAFJ,CADJ,eAKI;AAAK,IAAA,SAAS,EAAC,+CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,IAAA,SAAS,EAAC,8BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAG,IAAA,SAAS,EAAC,gCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA8C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAO7F,WAAW,CAACqB,OAAO,CAAC2E,KAAT,EAAgB,CAAhB,EAAmB,GAAnB,EAAwB,GAAxB,CAAlB,CAA9C,CAFJ,CALJ,eASI;AAAK,IAAA,SAAS,EAAC,+CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,IAAA,SAAS,EAAC,8BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCADJ,eAEI;AAAG,IAAA,SAAS,EAAC,gCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA8C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAI3E,OAAO,CAAC4E,iBAAZ,CAA9C,CAFJ,CATJ,eAaI;AAAK,IAAA,SAAS,EAAC,wDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,IAAA,SAAS,EAAC,8BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADJ,eAEI;AAAG,IAAA,SAAS,EAAC,gCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA8C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACzC,CAAC5E,OAAO,CAAC6E,WAAT,GACK,cADL,GAEKhG,gBAAgB,CAACmB,OAAO,CAAC6E,WAAT,CAAhB,GAAwC,GAAxC,GAA8C7E,OAAO,CAAC8E,cAHlB,CAA9C,CAFJ,CAbJ,eAqBI;AAAK,IAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,mBAAY,OAApB;AAA4B,mBAAY,sBAAxC;AAA+D,IAAA,SAAS,EAAC,6CAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAuH;AAAM,IAAA,SAAS,EAAC,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAvH,eAAmK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAnK,CADJ,CArBJ,CAjBJ,eA0CI;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,kDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,IAAA,SAAS,EAAC,8BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,eAEI;AAAG,IAAA,SAAS,EAAC,gCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA+C9E,OAAO,CAAC+E,eAAvD,CAFJ,CADJ,eAKI;AAAK,IAAA,SAAS,EAAC,+CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,IAAA,SAAS,EAAC,8BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADJ,eAEI;AAAG,IAAA,SAAS,EAAC,gCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAFJ,CALJ,eASI;AAAK,IAAA,SAAS,EAAC,+CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,IAAA,SAAS,EAAC,8BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,eAEI;AAAG,IAAA,SAAS,EAAC,gCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA8C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIlG,gBAAgB,CAACmB,OAAO,CAACgF,WAAT,CAApB,CAA9C,CAFJ,CATJ,eAaI;AAAK,IAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,mBAAY,OAApB;AAA4B,mBAAY,kBAAxC;AAA2D,IAAA,SAAS,EAAC,6CAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAmH;AAAM,IAAA,SAAS,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAnH,eAA8J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA9J,oBAAuL;AAAM,IAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoC1E,YAAY,CAACoB,MAAjD,CAAvL,CADJ,CAbJ,CA1CJ,eA4DI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,2BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK,CAAC5B,SAAD,gBACG,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,gBAGO,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJZ,CADJ,CA5DJ,eAqEI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,CADJ,eAII;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAG,IAAA,OAAO,EAAEoB,WAAZ;AAAyB,IAAA,SAAS,EAAC,mCAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAG,IAAA,SAAS,EAAC,qBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,CADJ,CAJJ,eAUI;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAG,IAAA,OAAO,EAAE,MAAM;AAAE,UAAIW,MAAM,CAACoD,OAAP,CAAe,6BAAf,CAAJ,EAAmDzD,sBAAsB,CAACxB,OAAO,CAACkF,QAAT,CAAtB;AAA0C,KAAjH;AAAmH,IAAA,SAAS,EAAC,mCAA7H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAG,IAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,CADJ,CAVJ,CArEJ,eAuFI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK,CAACpF,SAAD,gBACG;AAAO,IAAA,SAAS,EAAC,wBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,KAAK,EAAC,IAAV;AAAe,IAAA,SAAS,EAAC,aAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAI,IAAA,KAAK,EAAC,KAAV;AAAgB,IAAA,SAAS,EAAC,aAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFJ,eAGI;AAAI,IAAA,KAAK,EAAC,KAAV;AAAgB,IAAA,SAAS,EAAC,aAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALJ,CADJ,CADJ,eAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKI,YAAY,CAACoC,GAAb,CAAiByB,WAAW,iBACzB;AAAI,IAAA,GAAG,EAAG,gBAAeA,WAAW,CAACoB,IAAK,EAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,cAAD;AAAgB,IAAA,WAAW,EAAEpB,WAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,eAII;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6BA,WAAW,CAACE,kBAAzC,CAJJ,eAKI;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6BF,WAAW,CAACI,gBAAzC,CALJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKJ,WAAW,CAACqB,SAAjB,CANJ,eAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEK7G,aAAa,CAAC,GAAD,EAAM;AAAEkG,IAAAA,IAAI,EAAG,YAAWV,WAAW,CAACsB,SAAU,EAA1C;AAA6CC,IAAAA,MAAM,EAAE,QAArD;AAA+DC,IAAAA,SAAS,EAAE;AAA1E,GAAN,EAAoI,aAApI,CAFlB,CAPJ,CADH,CADL,CAVJ,CADH,gBA6BO,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9BZ,CAvFJ,eAyHI;AAAK,IAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKhH,aAAa,CAAC,GAAD,EAAM;AAAEkG,IAAAA,IAAI,EAAE,UAAR;AAAoBc,IAAAA,SAAS,EAAE;AAA/B,GAAN,EAAuF,QAAvF,CADlB,CAzHJ,CAFJ,eA+HI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/HJ,eAkII;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAyC,IAAA,EAAE,EAAC,qBAA5C;AAAkE,IAAA,QAAQ,EAAC,IAA3E;AAAgF,IAAA,IAAI,EAAC,QAArF;AAA8F,uBAAgB,qBAA9G;AAAoI,mBAAY,MAAhJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,oCAAf;AAAoD,IAAA,IAAI,EAAC,UAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,GAAG,EAAC,sBAAT;AAAgC,IAAA,GAAG,EAAC,6CAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAI,IAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gEAFJ,CADJ,eAKI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,OAAhC;AAAwC,oBAAa,OAArD;AAA6D,kBAAW,OAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAG,IAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CALJ,CADJ,eAUI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,eAEI;AAAI,IAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAA+C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAA/C,aAFJ,CADJ,CAVJ,CADJ,CADJ,CAlIJ,eA4JI;AAAK,IAAA,SAAS,EAAC,oCAAf;AAAoD,IAAA,EAAE,EAAC,iBAAvD;AAAyE,IAAA,QAAQ,EAAC,IAAlF;AAAuF,IAAA,IAAI,EAAC,QAA5F;AAAqG,uBAAgB,iBAArH;AAAuI,mBAAY,MAAnJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,oCAAf;AAAoD,IAAA,IAAI,EAAC,UAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADJ,CADJ,eAII;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,OAAhC;AAAwC,oBAAa,OAArD;AAA6D,kBAAW,OAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAG,IAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAJJ,CADJ,eASI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,SAAS,EAAC,6BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,CADJ,CADJ,eAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKjF,YAAY,CAACgC,GAAb,CAAiBkD,UAAU,iBACxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,UAAU,CAACC,QAAhB,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK5G,gBAAgB,CAAC2G,UAAU,CAACR,WAAZ,CAArB,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAG,IAAA,IAAI,EAAEQ,UAAU,CAACE,IAApB;AAA0B,IAAA,MAAM,EAAC,QAAjC;AAA0C,IAAA,SAAS,EAAC,gDAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAJ,CAHJ,CADH,CADL,CARJ,CADJ,CATJ,eA6BI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,oBAAa,OAArB;AAA6B,kBAAW,OAAxC;AAAgD,IAAA,SAAS,EAAC,iCAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,CA7BJ,CADJ,CADJ,CA5JJ,CADJ;AAqMH,CA5VD;;AA8VA,MAAMC,kBAAkB,GAAGC,QAAQ,KAAK;AACpC/F,EAAAA,aAAa,EAAGgB,IAAD,IAAU+E,QAAQ,CAACrG,WAAW,CAACsG,WAAZ,CAAwBhF,IAAxB,CAAD;AADG,CAAL,CAAnC;;AAIA,eAAerB,OAAO,CAAC,EAAD,EAAKmG,kBAAL,CAAP,CAAgChG,aAAhC,CAAf","sourcesContent":["import React, { useState, useEffect, createElement } from 'react';\r\n// default\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport { Loader } from '../components/Loader/Loader';\r\nimport { formatMoney, disconnect, formatDateToView, setItemSession } from '../utils';\r\nimport { fetchInvoice, fetchInvoiceItems, fetchTracking, fetchExcel, fetchNF } from '../services/invoices-api';\r\nimport { postDuplicateCart, fetchCartItems } from '../services/cart-api';\r\nimport { trackingIcons } from '../constants/'\r\nimport * as CartActions from '../store/actions/cart'\r\nimport { connect } from 'react-redux';\r\n\r\nconst Swal = require('sweetalert2');\r\n\r\nconst InvoiceDetail = ({ match, refreshCartFn }) => {\r\n    const [isLoading, setLoading] = useState(true);\r\n    const [invoice, setInvoice] = useState([]);\r\n    const [invoiceItems, setInvoiceItems] = useState([]);\r\n    const [trackings, setTracking] = useState([]);\r\n    const [notasFiscais, setNotasFiscais] = useState([]);\r\n\r\n    const idInvoice = match.params.id;\r\n\r\n    useEffect(() => {\r\n        fetchInvoice(idInvoice)\r\n            .then(result => {\r\n                setInvoice(result.data.Data.Dados[0])\r\n                setLoading(false)\r\n            })\r\n            .catch(reject => {\r\n                disconnect();\r\n            })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        fetchInvoiceItems(idInvoice)\r\n            .then(result => {\r\n                if (result.data.Data) {\r\n                    setInvoiceItems(result.data.Data.Dados)\r\n                    setLoading(false)\r\n                }\r\n            })\r\n        /* Deixado somente 1 disconnect */\r\n        // .catch(reject => {\r\n        //     disconnect();\r\n        // })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        fetchTracking(idInvoice)\r\n            .then(result => {\r\n                if (result.data.Data) {\r\n                    setTracking(result.data.Data.Dados)\r\n                    setLoading(false)\r\n                }\r\n            })\r\n        /* Deixado somente 1 disconnect */\r\n        // .catch(reject => {\r\n        //     disconnect();\r\n        // })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        fetchNF(idInvoice)\r\n            .then(result => {\r\n                if (result.data.Data) {\r\n                    setNotasFiscais(result.data.Data.Dados)\r\n                }\r\n            })\r\n        /* Deixado somente 1 disconnect */\r\n        // .catch(reject => {\r\n        //     disconnect();\r\n        // })\r\n    }, [])\r\n\r\n    const handleExcel = () => {\r\n        fetchExcel(idInvoice)\r\n            .then(result => {\r\n                const data = result.data.Data.Arquivo;\r\n                const arrayBuffer = base64ToArrayBuffer(data);\r\n                createAndDownloadBlobFile(arrayBuffer, result.data.Data.NomeArquivo);\r\n            })\r\n            .catch(reject => {\r\n                disconnect();\r\n            })\r\n\r\n    }\r\n\r\n    const handleDuplicateInvoice = (idInvoice) => {\r\n        postDuplicateCart(idInvoice)\r\n            .then(result => {\r\n                if (result.data.Codigo === 200) {\r\n                    fetchCartItems()\r\n                        .then(result => {\r\n                            if (result.data.Data.Dados.length > 0) {\r\n                                setItemSession('_carrinho', JSON.stringify(result.data.Data))\r\n                                refreshCartFn(result.data.Data);\r\n                                window.location = '/carrinho';\r\n                            }\r\n                        })\r\n                        .catch(reject => {\r\n                            disconnect();\r\n                        })\r\n                } else {\r\n                    console.debug('Error')\r\n                }\r\n            })\r\n    }\r\n\r\n    function base64ToArrayBuffer(base64) {\r\n        const binaryString = window.atob(base64);\r\n        const bytes = new Uint8Array(binaryString.length);\r\n        return bytes.map((byte, i) => binaryString.charCodeAt(i));\r\n    }\r\n\r\n    function createAndDownloadBlobFile(body, filename) {\r\n        const blob = new Blob([body]);\r\n        const fileName = filename;\r\n        if (navigator.msSaveBlob) {\r\n            // IE 10+\r\n            navigator.msSaveBlob(blob, fileName);\r\n        } else {\r\n            const link = document.createElement('a');\r\n            // Browsers that support HTML5 download attribute\r\n            if (link.download !== undefined) {\r\n                const url = URL.createObjectURL(blob);\r\n                link.setAttribute('href', url);\r\n                link.setAttribute('download', fileName);\r\n                link.style.visibility = 'hidden';\r\n                document.body.appendChild(link);\r\n                link.click();\r\n                document.body.removeChild(link);\r\n            }\r\n        }\r\n    }\r\n\r\n    const ItemStatusIcon = invoiceItem => {\r\n        const faturada = invoiceItem.invoiceItem.QuantidadeFaturada;\r\n        const pedida = invoiceItem.invoiceItem.QuantidadePedida;\r\n\r\n        if (faturada === 0) {\r\n            return <span className=\"icon icon-times c-laranja\"></span>\r\n        }\r\n\r\n        if (faturada === pedida) {\r\n            return <span className=\"icon icon-check c-roxo\"></span>\r\n        }\r\n\r\n        if (faturada < pedida) {\r\n            return <span className=\"icon icon-brightness c-roxo\"></span>\r\n        }\r\n    }\r\n\r\n    const Tracking = () => {\r\n        return trackings.map((tracking, index) => (\r\n            <li key={`track-${index}`} className={tracking.Data ? \"step step--active\" : \"step\"}>\r\n                <div className=\"step-icon\"><span className={`icon ${trackingIcons[tracking.CodigoStatusPedido]}`}></span></div>\r\n                <div className=\"step-conteudo\">\r\n                    <span className=\"step-data\">{tracking.Data && formatDateToView(tracking.Data)}</span>\r\n                    <h6 className=\"titulo h6\">{tracking.Status}</h6>\r\n                </div>\r\n            </li>\r\n        ))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <section className=\"pedidos-detalhe container\">\r\n                <div className=\"sect-header\">\r\n                    <ul className=\"breadcrumb list-unstyled\">\r\n                        <li>\r\n                            {/* <a href=\"index.html\">PÃ¡gina Principal</a> */}\r\n                            {createElement('a', { href: '/' }, \"PÃ¡gina Principal\")}\r\n                        </li>\r\n                        <li>\r\n                            {/* <a href=\"pedidos.html\">Meus Pedidos</a> */}\r\n                            {createElement('a', { href: '/pedidos' }, \"Meus Pedidos\")}\r\n                        </li>\r\n                        <li className=\"active\">Detalhe do Pedido</li>\r\n                    </ul>\r\n                    <div className=\"sect-titulo\">\r\n                        <h2 className=\"titulo h2\">Pedido <span className=\"c-laranja\">{invoice.NumeroPedido}</span></h2>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row pedidos-detalhe--wrapper\">\r\n                    <div className=\"col-6 col-md-3 col-lg-2 pedidos-detalhe--item\">\r\n                        <span className=\"pedidos-detalhe--item-titulo\">Status do pedido:</span>\r\n                        <p className=\"pedidos-detalhe--item-conteudo\"><b>{invoice.Status}</b></p>\r\n                    </div>\r\n                    <div className=\"col-6 col-md-3 col-lg-2 pedidos-detalhe--item\">\r\n                        <span className=\"pedidos-detalhe--item-titulo\">Valor da compra:</span>\r\n                        <p className=\"pedidos-detalhe--item-conteudo\"><b>R$ {formatMoney(invoice.Valor, 2, ',', '.')}</b></p>\r\n                    </div>\r\n                    <div className=\"col-6 col-md-3 col-lg-2 pedidos-detalhe--item\">\r\n                        <span className=\"pedidos-detalhe--item-titulo\">CondiÃ§Ã£o de Pagamento</span>\r\n                        <p className=\"pedidos-detalhe--item-conteudo\"><b>{invoice.CondicaoPagamento}</b></p>\r\n                    </div>\r\n                    <div className=\"col-6 col-md-3 col-lg-3 col-xl-2 pedidos-detalhe--item\">\r\n                        <span className=\"pedidos-detalhe--item-titulo\">Data da Entrega Prevista:</span>\r\n                        <p className=\"pedidos-detalhe--item-conteudo\"><b>\r\n                            {!invoice.DataEntrega\r\n                                ? 'Em definiÃ§Ã£o'\r\n                                : formatDateToView(invoice.DataEntrega) + '-' + invoice.PeriodoEntrega}</b>\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"col-lg-3 col-xl-4 pedidos-detalhe--item\">\r\n                        <button data-toggle=\"modal\" data-target=\"#modalPedidosDetalhe\" className=\"btn btn--lg btn--branco btn--full btn--bold\"><span className=\"icon icon-bar-code\"></span><span>Boleto de pagamento</span></button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row pedidos-detalhe--wrapper\">\r\n                    <div className=\"col-md-5 col-lg-4 col-xl-3 pedidos-detalhe--item\">\r\n                        <span className=\"pedidos-detalhe--item-titulo\">EndereÃ§o da Entrega</span>\r\n                        <p className=\"pedidos-detalhe--item-conteudo\">{invoice.EnderecoEntrega}</p>\r\n                    </div>\r\n                    <div className=\"col-6 col-md-4 col-lg-3 pedidos-detalhe--item\">\r\n                        <span className=\"pedidos-detalhe--item-titulo\">Agendamento da Entrega:</span>\r\n                        <p className=\"pedidos-detalhe--item-conteudo\">Tempo estimado sujeito a mudanÃ§as</p>\r\n                    </div>\r\n                    <div className=\"col-6 col-md-3 col-lg-2 pedidos-detalhe--item\">\r\n                        <span className=\"pedidos-detalhe--item-titulo\">Data da Compra:</span>\r\n                        <p className=\"pedidos-detalhe--item-conteudo\"><b>{formatDateToView(invoice.DataEmissao)}</b></p>\r\n                    </div>\r\n                    <div className=\"col-lg-3 col-xl-4 pedidos-detalhe--item\">\r\n                        <button data-toggle=\"modal\" data-target=\"#modalNotaFiscal\" className=\"btn btn--lg btn--branco btn--full btn--bold\"><span className=\"icon icon-invoice\"></span><span>Nota Fiscal</span> <span className=\"badge badge-roxo\">{notasFiscais.length}</span></button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"steps\">\r\n                    <ol className=\"steps-lista list-unstyled\">\r\n                        {!isLoading ? (\r\n                            <Tracking />\r\n                        ) : (\r\n                                <Loader short=\"false\" />\r\n                            )}\r\n                    </ol>\r\n                </div>\r\n                <div className=\"row align-items-center\">\r\n                    <div className=\"col-md-6 col-lg-6\">\r\n                        <h2 className=\"titulo h2 mb-0\">Itens do pedido</h2>\r\n                    </div>\r\n                    <div className=\"col-md-6 col-lg-3\">\r\n                        <a onClick={handleExcel} className=\"btn btn--lg btn--branco btn--bold\">\r\n                            <i className=\"icon icon-doc-excel\"></i>\r\n                            <span>Download Excel</span>\r\n                        </a>\r\n                    </div>\r\n                    <div className=\"col-md-6 col-lg-3\">\r\n                        <a onClick={() => { if (window.confirm('Deseja repetir esse pedido?')) handleDuplicateInvoice(invoice.idPedido) }} className=\"btn btn--lg btn--branco btn--bold\">\r\n                            <i className=\"fa fa-refresh\"></i>\r\n                            <span>Repetir Pedido</span>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"tabela-overflow\">\r\n                    {!isLoading ? (\r\n                        <table className=\"tabela tabela-listrada\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th width=\"40\" className=\"text-center\">Status</th>\r\n                                    <th width=\"100\" className=\"text-center\">Qtd. Atendida</th>\r\n                                    <th width=\"100\" className=\"text-center\">Quantidade</th>\r\n                                    <th>DescriÃ§Ã£o</th>\r\n                                    <th>AÃ§Ã£o</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {invoiceItems.map(invoiceItem =>\r\n                                    <tr key={`invoice-item-${invoiceItem.Item}`}>\r\n                                        <td className=\"text-center\">\r\n                                            <ItemStatusIcon invoiceItem={invoiceItem} />\r\n                                        </td>\r\n                                        <td className=\"text-center\">{invoiceItem.QuantidadeFaturada}</td>\r\n                                        <td className=\"text-center\">{invoiceItem.QuantidadePedida}</td>\r\n                                        <td>{invoiceItem.Descricao}</td>\r\n                                        <td>\r\n                                            {/* <a href=\"produtos-detalhe.html\" className=\"link-texto link-texto--roxo font-weight-normal\">Ver produto</a> */}\r\n                                            {createElement('a', { href: `/produto/${invoiceItem.idProduto}`, target: \"_blank\", className: \"link-texto link-texto--roxo font-weight-normal\" }, \"Ver produto\")}\r\n                                        </td>\r\n                                    </tr>\r\n                                )}\r\n                            </tbody>\r\n                        </table>\r\n                    ) : (\r\n                            <Loader short=\"false\" />\r\n                        )}\r\n                </div>\r\n\r\n                <div className=\"sect-footer align-items-start\">\r\n                    {createElement('a', { href: '/pedidos', className: \"btn btn--cinza btn--block btn-full btn--bold\" }, \"Voltar\")}\r\n                </div>\r\n            </section>\r\n            <Footer />\r\n\r\n            {/* <!-- Modal Boleto --> */}\r\n            <div className=\"modal modal-boleto fade\" id=\"modalPedidosDetalhe\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"modalPedidosDetalhe\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <div className=\"modal-header_container\">\r\n                                <img src=\"../img/img-modal.png\" alt=\"Imagem representativa de uma folha de papel\" />\r\n                                <h2 className=\"titulo h2\">Seu boleto estÃ¡ disponÃ­vel no portal Rede blink</h2>\r\n                            </div>\r\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                <i className=\"icon icon-times\"></i>\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"modal-body\">\r\n                            <ol className=\"lista-modal\">\r\n                                <li className=\"lista-modal_item\">Acesse o Portal</li>\r\n                                <li className=\"lista-modal_item\">Entre no item <span>\"Central de Compras\"</span> do menu</li>\r\n                                {/* <li className=\"lista-modal_item\">Lorem Ipsum</li> */}\r\n                                {/* <li className=\"lista-modal_item\">Ipsum Lorem dorime</li> */}\r\n                            </ol>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* <!-- Modal NF --> */}\r\n            <div className=\"modal modal-boleto modal-nota fade\" id=\"modalNotaFiscal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"modalNotaFiscal\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <div className=\"modal-header_container\">\r\n                                <h2 className=\"titulo h2\">Notas Fiscais DisponÃ­veis</h2>\r\n                            </div>\r\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                <i className=\"icon icon-times\"></i>\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"modal-body px-0\">\r\n                            <table className=\"table table-borderless mb-0\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>NÃºmero Nota Fiscal</th>\r\n                                        <th>Data</th>\r\n                                        <th>AÃ§Ã£o</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {notasFiscais.map(notaFiscal => (\r\n                                        <tr>\r\n                                            <td>{notaFiscal.NumeroNF}</td>\r\n                                            <td>{formatDateToView(notaFiscal.DataEmissao)}</td>\r\n                                            <td><a href={notaFiscal.Link} target=\"_blank\" className=\"link-texto link-texto--roxo font-weight-normal\">Ver Nota</a></td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        <div className=\"modal-footer\">\r\n                            <button data-dismiss=\"modal\" aria-label=\"Close\" className=\"btn btn--lg btn--roxo btn--bold\">Fechar</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    refreshCartFn: (data) => dispatch(CartActions.refreshCart(data))\r\n})\r\n\r\nexport default connect('', mapDispatchToProps)(InvoiceDetail);"]},"metadata":{},"sourceType":"module"}