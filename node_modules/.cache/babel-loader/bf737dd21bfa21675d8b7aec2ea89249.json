{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\victor.abrao\\\\Desktop\\\\source\\\\clientes-blue-cycle-ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,createElement}from'react';import{filtersLimitWord,arrayStringToArrayInt,clearSubCategorias}from'../../utils';import{getAllCategories}from'../../containers/CategoriesContainer';import{Loader}from'../Loader/Loader';import SubCategory from'./SubCategory';var Category=function Category(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),categories=_useState2[0],setCategories=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),categorySelected=_useState4[0],setCategorySelected=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setLoading=_useState6[1];var url='/busca';var search=window.location.search;var params=new URLSearchParams(search);var termo=params.get('t')||'';var fornecedores=params.get('f')||'';var categorias=params.get('c')||'';var arrCategorias=categorias?arrayStringToArrayInt(categorias):[];var subCategorias=params.get('s')||'';var arrSubCategorias=subCategorias?arrayStringToArrayInt(subCategorias):[];arrSubCategorias=clearSubCategorias(arrSubCategorias,arrCategorias,getAllCategories(0));var handleCheck=function handleCheck(e){e.preventDefault();if(!e.target.checked){arrCategorias=arrCategorias.filter(function(arr){return arr!=e.target.value;});}else{arrCategorias.push(parseInt(e.target.value));}window.location.href=url+'?t='+termo+'&c='+arrCategorias.toString()+'&s='+arrSubCategorias.toString()+'&f='+fornecedores;};useEffect(function(){var allCategories=getAllCategories(0);var groups=allCategories.filter(function(newarr){return newarr.idClassificacaoNivelAnterior==0;});setCategorySelected(arrCategorias);setCategories(groups);setLoading(false);},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"form\",{className:\"form-sticky\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-sticky_titulos\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"titulo h6\"},\"Categorias\")),!isLoading?categories.map(function(category,index){return/*#__PURE__*/React.createElement(\"fieldset\",{key:\"field-\".concat(index),className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",name:\"cat-\".concat(category.idClassificacaoNivel),value:category.idClassificacaoNivel,id:\"filter-\".concat(category.idClassificacaoNivel),className:\"checkbox\",onChange:handleCheck,checked:arrCategorias.find(function(v){return v===category.idClassificacaoNivel;})}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"filter-\".concat(category.idClassificacaoNivel),title:category.Nome},filtersLimitWord(category.Descricao)));}):/*#__PURE__*/React.createElement(Loader,{short:\"true\"})),categorySelected>0&&/*#__PURE__*/React.createElement(SubCategory,null));};export default Category;","map":{"version":3,"sources":["C:/Users/victor.abrao/Desktop/source/clientes-blue-cycle-ecommerce/src/components/SideBar/Category.js"],"names":["React","useState","useEffect","createElement","filtersLimitWord","arrayStringToArrayInt","clearSubCategorias","getAllCategories","Loader","SubCategory","Category","categories","setCategories","categorySelected","setCategorySelected","isLoading","setLoading","url","search","window","location","params","URLSearchParams","termo","get","fornecedores","categorias","arrCategorias","subCategorias","arrSubCategorias","handleCheck","e","preventDefault","target","checked","filter","arr","value","push","parseInt","href","toString","allCategories","groups","newarr","idClassificacaoNivelAnterior","map","category","index","idClassificacaoNivel","find","v","Nome","Descricao"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, createElement } from 'react';\r\nimport { filtersLimitWord, arrayStringToArrayInt, clearSubCategorias } from '../../utils';\r\nimport { getAllCategories } from '../../containers/CategoriesContainer';\r\nimport { Loader } from '../Loader/Loader';\r\nimport SubCategory from './SubCategory'\r\n\r\nconst Category = () => {\r\n    const [categories, setCategories] = useState([]);\r\n    const [categorySelected, setCategorySelected] = useState([]);\r\n    const [isLoading, setLoading] = useState(true);\r\n\r\n    const url = '/busca';\r\n    const search = window.location.search;\r\n    const params = new URLSearchParams(search);\r\n    const termo = params.get('t') || '';\r\n    const fornecedores = params.get('f') || '';\r\n    const categorias = params.get('c') || '';\r\n    let arrCategorias = categorias ? arrayStringToArrayInt(categorias) : [];\r\n    const subCategorias = params.get('s') || '';\r\n    let arrSubCategorias = subCategorias ? arrayStringToArrayInt(subCategorias) : [];\r\n\r\n    arrSubCategorias = clearSubCategorias(arrSubCategorias, arrCategorias, getAllCategories(0));\r\n    \r\n    const handleCheck = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!e.target.checked) {\r\n            arrCategorias = arrCategorias.filter(arr => { return arr != e.target.value })\r\n        } else {\r\n            arrCategorias.push(parseInt(e.target.value))\r\n        }\r\n\r\n        window.location.href = url\r\n            + '?t=' + termo\r\n            + '&c=' + arrCategorias.toString()\r\n            + '&s=' + arrSubCategorias.toString()\r\n            + '&f=' + fornecedores\r\n    }\r\n\r\n    useEffect(() => {\r\n        const allCategories = getAllCategories(0);\r\n        const groups = allCategories.filter(function (newarr) {\r\n            return newarr.idClassificacaoNivelAnterior == 0;\r\n        });\r\n        setCategorySelected(arrCategorias)\r\n        setCategories(groups);\r\n        setLoading(false);\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <form className=\"form-sticky\">\r\n                <div className=\"form-sticky_titulos\">\r\n                    <h6 className=\"titulo h6\">Categorias</h6>\r\n                    {/* {createElement('a', { href: `/busca?t=${termo}&f=${fornecedores}`, className: \"limpar-filtro\" }, 'Limpar')} */}\r\n                </div>\r\n                {!isLoading ? (\r\n                    categories.map((category, index) => (\r\n                        <fieldset key={`field-${index}`} className=\"form-group\">\r\n                            <input \r\n                                type=\"checkbox\" \r\n                                name={`cat-${category.idClassificacaoNivel}`} \r\n                                value={category.idClassificacaoNivel} \r\n                                id={`filter-${category.idClassificacaoNivel}`} \r\n                                className=\"checkbox\" \r\n                                onChange={handleCheck} \r\n                                checked={arrCategorias.find(v => v === category.idClassificacaoNivel)} \r\n                            />\r\n                            <label htmlFor={`filter-${category.idClassificacaoNivel}`} title={category.Nome}>{filtersLimitWord(category.Descricao)}</label>\r\n                        </fieldset>\r\n                    ))\r\n                ) : (\r\n                        <Loader short=\"true\" />\r\n                    )}\r\n            </form>\r\n            {categorySelected > 0 &&\r\n                <SubCategory />\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Category;"]},"metadata":{},"sourceType":"module"}