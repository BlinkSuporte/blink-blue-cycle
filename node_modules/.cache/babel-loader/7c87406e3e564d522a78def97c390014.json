{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\victor.abrao\\\\Desktop\\\\source\\\\clientes-blue-cycle-ecommerce\\\\src\\\\components\\\\SideBar\\\\SubCategory.js\";\nimport React, { useState, useEffect, createElement } from 'react';\nimport { filtersLimitWord, arrayStringToArrayInt, clearSubCategorias } from '../../utils';\nimport { getAllCategories } from '../../containers/CategoriesContainer';\nimport { Loader } from '../Loader/Loader';\n\nconst SubCategory = () => {\n  const [subCategories, setSubCategories] = useState([]);\n  const [isLoading, setLoading] = useState(true);\n  const url = '/busca';\n  const search = window.location.search;\n  const params = new URLSearchParams(search);\n  const termo = params.get('t') || '';\n  const fornecedores = params.get('f') || '';\n  const categorias = params.get('c') || '';\n  let arrCategorias = categorias ? arrayStringToArrayInt(categorias) : [];\n  const subCategorias = params.get('s') || '';\n  let arrSubCategorias = subCategorias ? arrayStringToArrayInt(subCategorias) : [];\n  arrSubCategorias = clearSubCategorias(arrSubCategorias, arrCategorias, getAllCategories(0));\n\n  const handleCheck = e => {\n    e.preventDefault();\n\n    if (!e.target.checked) {\n      arrSubCategorias = arrSubCategorias.filter(arr => {\n        return arr != e.target.value;\n      });\n    } else {\n      arrSubCategorias.push(parseInt(e.target.value));\n    }\n\n    window.location.href = url + '?t=' + termo + '&c=' + categorias + '&s=' + arrSubCategorias.toString() + '&f=' + fornecedores;\n  };\n\n  useEffect(() => {\n    if (arrCategorias.length > 0) {\n      const allCategories = getAllCategories(0);\n      const sections = allCategories.filter(function (newarr) {\n        return arrCategorias.indexOf(newarr.idClassificacaoNivelAnterior) > -1;\n      });\n      setSubCategories(sections);\n    }\n\n    setLoading(false);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form-sticky\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-sticky_titulos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"titulo h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, \"Subcategoria\")), !isLoading ? subCategories.map((subCategory, index) => /*#__PURE__*/React.createElement(\"fieldset\", {\n    key: `field-sub-${index}`,\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    name: `sub-${subCategory.idClassificacaoNivel}`,\n    value: subCategory.idClassificacaoNivel,\n    id: `sub-${subCategory.idClassificacaoNivel}`,\n    className: \"checkbox\",\n    onClick: handleCheck,\n    checked: arrSubCategorias.find(v => v === subCategory.idClassificacaoNivel),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: `sub-${subCategory.idClassificacaoNivel}`,\n    title: subCategory.Descricao,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, filtersLimitWord(subCategory.Descricao)))) : /*#__PURE__*/React.createElement(Loader, {\n    short: \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }));\n};\n\nexport default SubCategory;","map":{"version":3,"sources":["C:/Users/victor.abrao/Desktop/source/clientes-blue-cycle-ecommerce/src/components/SideBar/SubCategory.js"],"names":["React","useState","useEffect","createElement","filtersLimitWord","arrayStringToArrayInt","clearSubCategorias","getAllCategories","Loader","SubCategory","subCategories","setSubCategories","isLoading","setLoading","url","search","window","location","params","URLSearchParams","termo","get","fornecedores","categorias","arrCategorias","subCategorias","arrSubCategorias","handleCheck","e","preventDefault","target","checked","filter","arr","value","push","parseInt","href","toString","length","allCategories","sections","newarr","indexOf","idClassificacaoNivelAnterior","map","subCategory","index","idClassificacaoNivel","find","v","Descricao"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, createElement } from 'react';\r\nimport { filtersLimitWord, arrayStringToArrayInt, clearSubCategorias } from '../../utils';\r\nimport { getAllCategories } from '../../containers/CategoriesContainer';\r\nimport { Loader } from '../Loader/Loader';\r\n\r\nconst SubCategory = () => {\r\n    const [subCategories, setSubCategories] = useState([]);\r\n    const [isLoading, setLoading] = useState(true);\r\n\r\n    const url = '/busca';\r\n    const search = window.location.search;\r\n    const params = new URLSearchParams(search);\r\n    const termo = params.get('t') || '';\r\n    const fornecedores = params.get('f') || '';\r\n    const categorias = params.get('c') || '';\r\n    let arrCategorias = categorias ? arrayStringToArrayInt(categorias) : [];\r\n    const subCategorias = params.get('s') || '';\r\n    let arrSubCategorias = subCategorias ? arrayStringToArrayInt(subCategorias) : [];\r\n    \r\n    arrSubCategorias = clearSubCategorias(arrSubCategorias, arrCategorias, getAllCategories(0));\r\n\r\n    const handleCheck = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!e.target.checked) {\r\n            arrSubCategorias = arrSubCategorias.filter(arr => { return arr != e.target.value })\r\n        } else {\r\n            arrSubCategorias.push(parseInt(e.target.value))\r\n        }\r\n\r\n        window.location.href = url\r\n            + '?t=' + termo\r\n            + '&c=' + categorias\r\n            + '&s=' + arrSubCategorias.toString()\r\n            + '&f=' + fornecedores\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (arrCategorias.length > 0) {\r\n            const allCategories = getAllCategories(0);\r\n            const sections = allCategories.filter(function (newarr) {\r\n                return arrCategorias.indexOf(newarr.idClassificacaoNivelAnterior) > -1;\r\n            });\r\n            setSubCategories(sections);\r\n        }\r\n        setLoading(false);\r\n    }, [])\r\n\r\n    return (\r\n        <form className=\"form-sticky\">\r\n            <div className=\"form-sticky_titulos\">\r\n                <h6 className=\"titulo h6\">Subcategoria</h6>\r\n                {/* {createElement('a', { href: `/busca?t=${termo}&c=${categorias}&f=${fornecedores}`, className: \"limpar-filtro\" }, 'Limpar')} */}\r\n            </div>\r\n            {!isLoading ? (\r\n                subCategories.map((subCategory, index) => (\r\n                    <fieldset key={`field-sub-${index}`} className=\"form-group\">\r\n                        <input\r\n                            type=\"checkbox\"\r\n                            name={`sub-${subCategory.idClassificacaoNivel}`}\r\n                            value={subCategory.idClassificacaoNivel}\r\n                            id={`sub-${subCategory.idClassificacaoNivel}`}\r\n                            className=\"checkbox\"\r\n                            onClick={handleCheck}\r\n                            checked={arrSubCategorias.find(v => v === subCategory.idClassificacaoNivel)}\r\n                        />\r\n                        <label htmlFor={`sub-${subCategory.idClassificacaoNivel}`} title={subCategory.Descricao}>{filtersLimitWord(subCategory.Descricao)}</label>\r\n                    </fieldset>\r\n                ))\r\n            ) : (\r\n                    <Loader short=\"true\" />\r\n                )}\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default SubCategory;"]},"metadata":{},"sourceType":"module"}