{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\victor.abrao\\\\Desktop\\\\source\\\\clientes-blue-cycle-ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,createElement}from'react';import{filtersLimitWord,arrayStringToArrayInt}from'../../utils';import{getAllManufacturers}from'../../containers/ManufacturersContainer';import{Loader}from'../Loader/Loader';var Manufacturer=function Manufacturer(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),manufacturers=_useState2[0],setManufacturers=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var allManufacturers=getAllManufacturers();setManufacturers(allManufacturers);setLoading(false);},[]);var url='/busca';var search=window.location.search;var params=new URLSearchParams(search);var termo=params.get('t')||'';var fornecedores=params.get('f')||'';var arrFornecedores=fornecedores?arrayStringToArrayInt(fornecedores):[];var categorias=params.get('c')||'';var subCategorias=params.get('s')||'';var handleCheck=function handleCheck(e){e.preventDefault();if(!e.target.checked){arrFornecedores=arrFornecedores.filter(function(arr){return arr!=e.target.value;});}else{arrFornecedores.push(parseInt(e.target.value));}window.location.href=url+'?t='+termo+'&c='+categorias+'&s='+subCategorias+'&f='+arrFornecedores.toString();};return/*#__PURE__*/React.createElement(\"form\",{className:\"form-sticky\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-sticky_titulos titulofornecedores\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"titulo h6\"},\"Fornecedores\"),createElement('a',{href:\"/\",className:\"limpar-filtro\"},'Limpar')),/*#__PURE__*/React.createElement(\"div\",{className:\"form-filtro-holder\"},!isLoading?manufacturers.map(function(manufacturer,index){return/*#__PURE__*/React.createElement(\"fieldset\",{key:\"manufacturer-field-\".concat(index),className:index<10?'form-group':'form-group hidden'},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",name:manufacturer.idFornecedor,value:manufacturer.idFornecedor,id:\"manufacturer-\".concat(manufacturer.idFornecedor),className:\"checkbox\",onClick:handleCheck,checked:arrFornecedores.find(function(v){return v===manufacturer.idFornecedor;})}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"manufacturer-\".concat(manufacturer.idFornecedor),title:manufacturer.Nome},filtersLimitWord(manufacturer.Nome)));}):/*#__PURE__*/React.createElement(Loader,{short:\"true\"})),/*#__PURE__*/React.createElement(\"fieldset\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-link link-texto--laranja btn-verMais\"},\"Ver mais\")));};export default Manufacturer;","map":{"version":3,"sources":["C:/Users/victor.abrao/Desktop/source/clientes-blue-cycle-ecommerce/src/components/SideBar/Manufacturer.js"],"names":["React","useState","useEffect","createElement","filtersLimitWord","arrayStringToArrayInt","getAllManufacturers","Loader","Manufacturer","manufacturers","setManufacturers","isLoading","setLoading","allManufacturers","url","search","window","location","params","URLSearchParams","termo","get","fornecedores","arrFornecedores","categorias","subCategorias","handleCheck","e","preventDefault","target","checked","filter","arr","value","push","parseInt","href","toString","className","map","manufacturer","index","idFornecedor","find","v","Nome"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, createElement } from 'react';\r\nimport { filtersLimitWord, arrayStringToArrayInt } from '../../utils';\r\nimport { getAllManufacturers } from '../../containers/ManufacturersContainer';\r\nimport { Loader } from '../Loader/Loader';\r\n\r\nconst Manufacturer = () => {\r\n    const [manufacturers, setManufacturers] = useState([]);\r\n    const [isLoading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const allManufacturers = getAllManufacturers();\r\n        setManufacturers(allManufacturers);\r\n        setLoading(false);\r\n    }, [])\r\n\r\n    const url = '/busca';\r\n    const search = window.location.search;\r\n    const params = new URLSearchParams(search);\r\n    const termo = params.get('t') || '';\r\n    const fornecedores = params.get('f') || '';\r\n    let arrFornecedores = fornecedores ? arrayStringToArrayInt(fornecedores) : [];\r\n    const categorias = params.get('c') || '';\r\n    const subCategorias = params.get('s') || '';\r\n\r\n    const handleCheck = (e) => {\r\n        e.preventDefault();\r\n        \r\n        if (!e.target.checked) {\r\n            arrFornecedores = arrFornecedores.filter(arr => { return arr != e.target.value })\r\n        } else {\r\n            arrFornecedores.push(parseInt(e.target.value))\r\n        }\r\n\r\n        window.location.href = url\r\n            + '?t=' + termo\r\n            + '&c=' + categorias\r\n            + '&s=' + subCategorias\r\n            + '&f=' + arrFornecedores.toString()\r\n    }\r\n\r\n    return (\r\n        <form className=\"form-sticky\">\r\n            <div className=\"form-sticky_titulos titulofornecedores\">\r\n                <h6 className=\"titulo h6\">Fornecedores</h6>\r\n                {/* {createElement('a', { href: `/busca?t=${termo}&c=${categorias}&s=${subCategorias}`, className: \"limpar-filtro\" }, 'Limpar')} */}\r\n                {createElement('a', { href: `/`, className: \"limpar-filtro\" }, 'Limpar')}\r\n            </div>\r\n            <div className=\"form-filtro-holder\">\r\n                {!isLoading ? (\r\n                    manufacturers.map((manufacturer, index) => (\r\n                        <fieldset key={`manufacturer-field-${index}`} className={index < 10 ? 'form-group' : 'form-group hidden'}>\r\n                            <input \r\n                                type=\"checkbox\" \r\n                                name={manufacturer.idFornecedor} \r\n                                value={manufacturer.idFornecedor} \r\n                                id={`manufacturer-${manufacturer.idFornecedor}`} \r\n                                className=\"checkbox\" \r\n                                onClick={handleCheck} \r\n                                checked={arrFornecedores.find(v => v === manufacturer.idFornecedor)} \r\n                            />\r\n                            <label htmlFor={`manufacturer-${manufacturer.idFornecedor}`} title={manufacturer.Nome}>{filtersLimitWord(manufacturer.Nome)}</label>\r\n                        </fieldset>\r\n                    ))\r\n                ) : (\r\n                        <Loader short=\"true\" />\r\n                    )}\r\n            </div>\r\n            <fieldset className=\"form-group\">\r\n                <button className=\"btn btn-link link-texto--laranja btn-verMais\">Ver mais</button>\r\n            </fieldset>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default Manufacturer;"]},"metadata":{},"sourceType":"module"}