{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\victor.abrao\\\\Desktop\\\\source\\\\clientes-blue-cycle-ecommerce\\\\src\\\\pages\\\\Highlights.js\";\nimport React, { useState, useEffect } from 'react';\nimport Pagination from 'react-js-pagination'; // default\n\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport Manufacturer from '../components/SideBar/Manufacturer';\nimport Category from '../components/SideBar/Category';\nimport ProductCard from '../components/Product/ProductCard';\nimport { Loader } from '../components/Loader/Loader';\nimport { scrollToTop, disconnect } from '../utils';\nimport { fetchProductsByTag } from '../services/products-api';\nimport { arrHighlights, arrOrigin } from '../constants';\nimport BannerInterno from '../components/Highlights/BannerInterno';\n\nconst Highlights = ({\n  match\n}) => {\n  const [isLoading, setLoading] = useState(true);\n  const [qtd, setQtd] = useState(0);\n  const [products, setProducts] = useState([]);\n  const [highlight, setHighlight] = useState(''); // Props\n\n  const nameHighlight = match.params.name; // Paginate\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const totalRecords = qtd;\n  const recordPerPage = process.env.REACT_APP_PAGINATION_RECORD_PER_PAGE;\n  const pageRange = process.env.REACT_APP_PAGINATION_PAGE_RANGE;\n\n  const handlePageChange = pageNumber => {\n    if (currentPage !== pageNumber) {\n      setLoading(true);\n      setCurrentPage(pageNumber);\n    }\n  }; // Scroll\n\n\n  useEffect(() => scrollToTop(), [isLoading]); // Load Data\n\n  useEffect(() => {\n    setHighlight(arrHighlights[nameHighlight]);\n    fetchProductsByTag(nameHighlight, currentPage, recordPerPage).then(result => {\n      if (result.data.Data) {\n        setProducts(result.data.Data.Dados);\n        setQtd(result.data.Data.QuantidadeRegistrosTotal);\n      }\n    }).then(result => setLoading(false));\n    /* Deixado somente 1 disconnect */\n    // .catch(reject => {\n    //     disconnect();\n    // })\n  }, [currentPage]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"conteudo_interno conteudo_padrao container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filtro-sticky d-none d-lg-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Manufacturer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Category, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cards-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"titulo-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"titulo h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }, highlight.titulo), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"total-itens\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 25\n    }\n  }, \"Total de Itens: \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"total-itens_numero\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 68\n    }\n  }, qtd))), /*#__PURE__*/React.createElement(BannerInterno, {\n    nameHighlight: nameHighlight,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cards cards-produto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, !isLoading ? products.map(product => /*#__PURE__*/React.createElement(ProductCard, {\n    key: `highlight-card-${product.idProduto}`,\n    product: product,\n    origin: arrOrigin[`pagina_${nameHighlight}`],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 33\n    }\n  })) : /*#__PURE__*/React.createElement(Loader, {\n    short: \"false\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"nav\", {\n    \"aria-label\": \"paginacao-promocoes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, !isLoading && /*#__PURE__*/React.createElement(Pagination, {\n    hideFirstLastPages: true,\n    activePage: currentPage,\n    itemsCountPerPage: parseInt(recordPerPage),\n    totalItemsCount: totalRecords,\n    pageRangeDisplayed: parseInt(pageRange),\n    onChange: handlePageChange,\n    innerClass: \"pagination justify-content-end\",\n    itemClass: \"page-item\",\n    linkClass: \"page-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default Highlights;","map":{"version":3,"sources":["C:/Users/victor.abrao/Desktop/source/clientes-blue-cycle-ecommerce/src/pages/Highlights.js"],"names":["React","useState","useEffect","Pagination","Header","Footer","Manufacturer","Category","ProductCard","Loader","scrollToTop","disconnect","fetchProductsByTag","arrHighlights","arrOrigin","BannerInterno","Highlights","match","isLoading","setLoading","qtd","setQtd","products","setProducts","highlight","setHighlight","nameHighlight","params","name","currentPage","setCurrentPage","totalRecords","recordPerPage","process","env","REACT_APP_PAGINATION_RECORD_PER_PAGE","pageRange","REACT_APP_PAGINATION_PAGE_RANGE","handlePageChange","pageNumber","then","result","data","Data","Dados","QuantidadeRegistrosTotal","titulo","map","product","idProduto","parseInt"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Pagination from 'react-js-pagination';\r\n// default\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\n\r\nimport Manufacturer from '../components/SideBar/Manufacturer';\r\nimport Category from '../components/SideBar/Category';\r\n\r\nimport ProductCard from '../components/Product/ProductCard';\r\nimport { Loader } from '../components/Loader/Loader';\r\nimport { scrollToTop, disconnect } from '../utils';\r\nimport { fetchProductsByTag } from '../services/products-api';\r\nimport { arrHighlights, arrOrigin } from '../constants'\r\nimport BannerInterno from '../components/Highlights/BannerInterno';\r\n\r\nconst Highlights = ({ match }) => {\r\n    const [isLoading, setLoading] = useState(true);\r\n    const [qtd, setQtd] = useState(0);\r\n    const [products, setProducts] = useState([]);\r\n\r\n    const [highlight, setHighlight] = useState('');\r\n\r\n    // Props\r\n    const nameHighlight = match.params.name;\r\n\r\n    // Paginate\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const totalRecords = qtd;\r\n    const recordPerPage = process.env.REACT_APP_PAGINATION_RECORD_PER_PAGE;\r\n    const pageRange = process.env.REACT_APP_PAGINATION_PAGE_RANGE;\r\n\r\n    const handlePageChange = pageNumber => {\r\n        if (currentPage !== pageNumber) {\r\n            setLoading(true)\r\n            setCurrentPage(pageNumber);\r\n        }\r\n    }\r\n\r\n    // Scroll\r\n    useEffect(() => scrollToTop(), [isLoading]);\r\n\r\n    // Load Data\r\n    useEffect(() => {\r\n        setHighlight(arrHighlights[nameHighlight]);\r\n\r\n        fetchProductsByTag(nameHighlight, currentPage, recordPerPage)\r\n            .then(result => {\r\n                if (result.data.Data) {\r\n                    setProducts(result.data.Data.Dados)\r\n                    setQtd(result.data.Data.QuantidadeRegistrosTotal)\r\n                }\r\n            })\r\n            .then(result => setLoading(false))\r\n            /* Deixado somente 1 disconnect */\r\n            // .catch(reject => {\r\n            //     disconnect();\r\n            // })\r\n    }, [currentPage])\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <section className=\"conteudo_interno conteudo_padrao container\">\r\n                <div className=\"filtro-sticky d-none d-lg-block\">\r\n                    <Manufacturer />\r\n                    <Category />\r\n                </div>\r\n                <div className=\"cards-container\">\r\n                    <div className=\"titulo-container\">\r\n                        <h4 className=\"titulo h2\">{highlight.titulo}</h4>\r\n                        <p className=\"total-itens\">Total de Itens: <span className=\"total-itens_numero\">{qtd}</span></p>\r\n                    </div>\r\n\r\n                    <BannerInterno nameHighlight={nameHighlight} />\r\n\r\n                    <div className=\"cards cards-produto\">\r\n                        {!isLoading ? (\r\n                            products.map( product =>\r\n                                <ProductCard\r\n                                    key={`highlight-card-${product.idProduto}`}\r\n                                    product={product}\r\n                                    origin={arrOrigin[`pagina_${nameHighlight}`]}\r\n                                />\r\n                            )\r\n                        ) : (\r\n                                <Loader short=\"false\" />\r\n                            )}\r\n                    </div>\r\n                    <nav aria-label=\"paginacao-promocoes\">\r\n                        {!isLoading &&\r\n                            <Pagination\r\n                                hideFirstLastPages\r\n                                activePage={currentPage}\r\n                                itemsCountPerPage={parseInt(recordPerPage)}\r\n                                totalItemsCount={totalRecords}\r\n                                pageRangeDisplayed={parseInt(pageRange)}\r\n                                onChange={handlePageChange}\r\n                                innerClass=\"pagination justify-content-end\"\r\n                                itemClass=\"page-item\"\r\n                                linkClass=\"page-link\"\r\n                            />\r\n                        }\r\n                    </nav>\r\n                </div>\r\n            </section>\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Highlights;"]},"metadata":{},"sourceType":"module"}