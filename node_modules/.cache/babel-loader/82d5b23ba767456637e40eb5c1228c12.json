{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\victor.abrao\\\\Desktop\\\\source\\\\clientes-blue-cycle-ecommerce\\\\src\\\\components\\\\SideBar\\\\Category.js\";\nimport React, { useState, useEffect, createElement } from 'react';\nimport { filtersLimitWord, arrayStringToArrayInt, clearSubCategorias } from '../../utils';\nimport { getAllCategories } from '../../containers/CategoriesContainer';\nimport { Loader } from '../Loader/Loader';\nimport SubCategory from './SubCategory';\n\nconst Category = () => {\n  const [categories, setCategories] = useState([]);\n  const [categorySelected, setCategorySelected] = useState([]);\n  const [isLoading, setLoading] = useState(true);\n  const url = '/busca';\n  const search = window.location.search;\n  const params = new URLSearchParams(search);\n  const termo = params.get('t') || '';\n  const fornecedores = params.get('f') || '';\n  const categorias = params.get('c') || '';\n  let arrCategorias = categorias ? arrayStringToArrayInt(categorias) : [];\n  const subCategorias = params.get('s') || '';\n  let arrSubCategorias = subCategorias ? arrayStringToArrayInt(subCategorias) : [];\n  arrSubCategorias = clearSubCategorias(arrSubCategorias, arrCategorias, getAllCategories(0));\n\n  const handleCheck = e => {\n    e.preventDefault();\n\n    if (!e.target.checked) {\n      arrCategorias = arrCategorias.filter(arr => {\n        return arr != e.target.value;\n      });\n    } else {\n      arrCategorias.push(parseInt(e.target.value));\n    }\n\n    window.location.href = url + '?t=' + termo + '&c=' + arrCategorias.toString() + '&s=' + arrSubCategorias.toString() + '&f=' + fornecedores;\n  };\n\n  useEffect(() => {\n    const allCategories = getAllCategories(0);\n    const groups = allCategories.filter(function (newarr) {\n      return newarr.idClassificacaoNivelAnterior == 0;\n    });\n    setCategorySelected(arrCategorias);\n    setCategories(groups);\n    setLoading(false);\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form-sticky\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-sticky_titulos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"titulo h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, \"Categorias\")), !isLoading ? categories.map((category, index) => /*#__PURE__*/React.createElement(\"fieldset\", {\n    key: `field-${index}`,\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    name: `cat-${category.idClassificacaoNivel}`,\n    value: category.idClassificacaoNivel,\n    id: `filter-${category.idClassificacaoNivel}`,\n    className: \"checkbox\",\n    onChange: handleCheck,\n    checked: arrCategorias.find(v => v === category.idClassificacaoNivel),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: `filter-${category.idClassificacaoNivel}`,\n    title: category.Nome,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }\n  }, filtersLimitWord(category.Descricao)))) : /*#__PURE__*/React.createElement(Loader, {\n    short: \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  })), categorySelected > 0 && /*#__PURE__*/React.createElement(SubCategory, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }));\n};\n\nexport default Category;","map":{"version":3,"sources":["C:/Users/victor.abrao/Desktop/source/clientes-blue-cycle-ecommerce/src/components/SideBar/Category.js"],"names":["React","useState","useEffect","createElement","filtersLimitWord","arrayStringToArrayInt","clearSubCategorias","getAllCategories","Loader","SubCategory","Category","categories","setCategories","categorySelected","setCategorySelected","isLoading","setLoading","url","search","window","location","params","URLSearchParams","termo","get","fornecedores","categorias","arrCategorias","subCategorias","arrSubCategorias","handleCheck","e","preventDefault","target","checked","filter","arr","value","push","parseInt","href","toString","allCategories","groups","newarr","idClassificacaoNivelAnterior","map","category","index","idClassificacaoNivel","find","v","Nome","Descricao"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,aAArC,QAA0D,OAA1D;AACA,SAASC,gBAAT,EAA2BC,qBAA3B,EAAkDC,kBAAlD,QAA4E,aAA5E;AACA,SAASC,gBAAT,QAAiC,sCAAjC;AACA,SAASC,MAAT,QAAuB,kBAAvB;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AACnB,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACY,gBAAD,EAAmBC,mBAAnB,IAA0Cb,QAAQ,CAAC,EAAD,CAAxD;AACA,QAAM,CAACc,SAAD,EAAYC,UAAZ,IAA0Bf,QAAQ,CAAC,IAAD,CAAxC;AAEA,QAAMgB,GAAG,GAAG,QAAZ;AACA,QAAMC,MAAM,GAAGC,MAAM,CAACC,QAAP,CAAgBF,MAA/B;AACA,QAAMG,MAAM,GAAG,IAAIC,eAAJ,CAAoBJ,MAApB,CAAf;AACA,QAAMK,KAAK,GAAGF,MAAM,CAACG,GAAP,CAAW,GAAX,KAAmB,EAAjC;AACA,QAAMC,YAAY,GAAGJ,MAAM,CAACG,GAAP,CAAW,GAAX,KAAmB,EAAxC;AACA,QAAME,UAAU,GAAGL,MAAM,CAACG,GAAP,CAAW,GAAX,KAAmB,EAAtC;AACA,MAAIG,aAAa,GAAGD,UAAU,GAAGrB,qBAAqB,CAACqB,UAAD,CAAxB,GAAuC,EAArE;AACA,QAAME,aAAa,GAAGP,MAAM,CAACG,GAAP,CAAW,GAAX,KAAmB,EAAzC;AACA,MAAIK,gBAAgB,GAAGD,aAAa,GAAGvB,qBAAqB,CAACuB,aAAD,CAAxB,GAA0C,EAA9E;AAEAC,EAAAA,gBAAgB,GAAGvB,kBAAkB,CAACuB,gBAAD,EAAmBF,aAAnB,EAAkCpB,gBAAgB,CAAC,CAAD,CAAlD,CAArC;;AAEA,QAAMuB,WAAW,GAAIC,CAAD,IAAO;AACvBA,IAAAA,CAAC,CAACC,cAAF;;AAEA,QAAI,CAACD,CAAC,CAACE,MAAF,CAASC,OAAd,EAAuB;AACnBP,MAAAA,aAAa,GAAGA,aAAa,CAACQ,MAAd,CAAqBC,GAAG,IAAI;AAAE,eAAOA,GAAG,IAAIL,CAAC,CAACE,MAAF,CAASI,KAAvB;AAA8B,OAA5D,CAAhB;AACH,KAFD,MAEO;AACHV,MAAAA,aAAa,CAACW,IAAd,CAAmBC,QAAQ,CAACR,CAAC,CAACE,MAAF,CAASI,KAAV,CAA3B;AACH;;AAEDlB,IAAAA,MAAM,CAACC,QAAP,CAAgBoB,IAAhB,GAAuBvB,GAAG,GACpB,KADiB,GACTM,KADS,GAEjB,KAFiB,GAETI,aAAa,CAACc,QAAd,EAFS,GAGjB,KAHiB,GAGTZ,gBAAgB,CAACY,QAAjB,EAHS,GAIjB,KAJiB,GAIThB,YAJd;AAKH,GAdD;;AAgBAvB,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMwC,aAAa,GAAGnC,gBAAgB,CAAC,CAAD,CAAtC;AACA,UAAMoC,MAAM,GAAGD,aAAa,CAACP,MAAd,CAAqB,UAAUS,MAAV,EAAkB;AAClD,aAAOA,MAAM,CAACC,4BAAP,IAAuC,CAA9C;AACH,KAFc,CAAf;AAGA/B,IAAAA,mBAAmB,CAACa,aAAD,CAAnB;AACAf,IAAAA,aAAa,CAAC+B,MAAD,CAAb;AACA3B,IAAAA,UAAU,CAAC,KAAD,CAAV;AACH,GARQ,EAQN,EARM,CAAT;AAUA,sBACI,uDACI;AAAM,IAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,CADJ,EAKK,CAACD,SAAD,GACGJ,UAAU,CAACmC,GAAX,CAAe,CAACC,QAAD,EAAWC,KAAX,kBACX;AAAU,IAAA,GAAG,EAAG,SAAQA,KAAM,EAA9B;AAAiC,IAAA,SAAS,EAAC,YAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACI,IAAA,IAAI,EAAC,UADT;AAEI,IAAA,IAAI,EAAG,OAAMD,QAAQ,CAACE,oBAAqB,EAF/C;AAGI,IAAA,KAAK,EAAEF,QAAQ,CAACE,oBAHpB;AAII,IAAA,EAAE,EAAG,UAASF,QAAQ,CAACE,oBAAqB,EAJhD;AAKI,IAAA,SAAS,EAAC,UALd;AAMI,IAAA,QAAQ,EAAEnB,WANd;AAOI,IAAA,OAAO,EAAEH,aAAa,CAACuB,IAAd,CAAmBC,CAAC,IAAIA,CAAC,KAAKJ,QAAQ,CAACE,oBAAvC,CAPb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAUI;AAAO,IAAA,OAAO,EAAG,UAASF,QAAQ,CAACE,oBAAqB,EAAxD;AAA2D,IAAA,KAAK,EAAEF,QAAQ,CAACK,IAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAkFhD,gBAAgB,CAAC2C,QAAQ,CAACM,SAAV,CAAlG,CAVJ,CADJ,CADH,gBAgBO,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArBZ,CADJ,EAyBKxC,gBAAgB,GAAG,CAAnB,iBACG,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1BR,CADJ;AA+BH,CA1ED;;AA4EA,eAAeH,QAAf","sourcesContent":["import React, { useState, useEffect, createElement } from 'react';\r\nimport { filtersLimitWord, arrayStringToArrayInt, clearSubCategorias } from '../../utils';\r\nimport { getAllCategories } from '../../containers/CategoriesContainer';\r\nimport { Loader } from '../Loader/Loader';\r\nimport SubCategory from './SubCategory'\r\n\r\nconst Category = () => {\r\n    const [categories, setCategories] = useState([]);\r\n    const [categorySelected, setCategorySelected] = useState([]);\r\n    const [isLoading, setLoading] = useState(true);\r\n\r\n    const url = '/busca';\r\n    const search = window.location.search;\r\n    const params = new URLSearchParams(search);\r\n    const termo = params.get('t') || '';\r\n    const fornecedores = params.get('f') || '';\r\n    const categorias = params.get('c') || '';\r\n    let arrCategorias = categorias ? arrayStringToArrayInt(categorias) : [];\r\n    const subCategorias = params.get('s') || '';\r\n    let arrSubCategorias = subCategorias ? arrayStringToArrayInt(subCategorias) : [];\r\n\r\n    arrSubCategorias = clearSubCategorias(arrSubCategorias, arrCategorias, getAllCategories(0));\r\n    \r\n    const handleCheck = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!e.target.checked) {\r\n            arrCategorias = arrCategorias.filter(arr => { return arr != e.target.value })\r\n        } else {\r\n            arrCategorias.push(parseInt(e.target.value))\r\n        }\r\n\r\n        window.location.href = url\r\n            + '?t=' + termo\r\n            + '&c=' + arrCategorias.toString()\r\n            + '&s=' + arrSubCategorias.toString()\r\n            + '&f=' + fornecedores\r\n    }\r\n\r\n    useEffect(() => {\r\n        const allCategories = getAllCategories(0);\r\n        const groups = allCategories.filter(function (newarr) {\r\n            return newarr.idClassificacaoNivelAnterior == 0;\r\n        });\r\n        setCategorySelected(arrCategorias)\r\n        setCategories(groups);\r\n        setLoading(false);\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <form className=\"form-sticky\">\r\n                <div className=\"form-sticky_titulos\">\r\n                    <h6 className=\"titulo h6\">Categorias</h6>\r\n                    {/* {createElement('a', { href: `/busca?t=${termo}&f=${fornecedores}`, className: \"limpar-filtro\" }, 'Limpar')} */}\r\n                </div>\r\n                {!isLoading ? (\r\n                    categories.map((category, index) => (\r\n                        <fieldset key={`field-${index}`} className=\"form-group\">\r\n                            <input \r\n                                type=\"checkbox\" \r\n                                name={`cat-${category.idClassificacaoNivel}`} \r\n                                value={category.idClassificacaoNivel} \r\n                                id={`filter-${category.idClassificacaoNivel}`} \r\n                                className=\"checkbox\" \r\n                                onChange={handleCheck} \r\n                                checked={arrCategorias.find(v => v === category.idClassificacaoNivel)} \r\n                            />\r\n                            <label htmlFor={`filter-${category.idClassificacaoNivel}`} title={category.Nome}>{filtersLimitWord(category.Descricao)}</label>\r\n                        </fieldset>\r\n                    ))\r\n                ) : (\r\n                        <Loader short=\"true\" />\r\n                    )}\r\n            </form>\r\n            {categorySelected > 0 &&\r\n                <SubCategory />\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Category;"]},"metadata":{},"sourceType":"module"}