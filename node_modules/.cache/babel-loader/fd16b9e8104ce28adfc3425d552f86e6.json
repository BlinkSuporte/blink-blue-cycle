{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\victor.abrao\\\\Desktop\\\\source\\\\clientes-blue-cycle-ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Pagination from'react-js-pagination';// default\nimport Header from'../components/Header';import Footer from'../components/Footer';import Manufacturer from'../components/SideBar/Manufacturer';import Category from'../components/SideBar/Category';import ProductCard from'../components/Product/ProductCard';import{Loader}from'../components/Loader/Loader';import{scrollToTop,disconnect,arrayStringToArrayInt,clearSubCategorias}from'../utils';import{fetchProductsSearch}from'../services/products-api';import{arrOrigin}from'../constants';import{getCategoryById,getAllCategories}from'../containers/CategoriesContainer';import{getManufacturerById}from'../containers/ManufacturersContainer';var Search=function Search(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),qtd=_useState4[0],setQtd=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),products=_useState6[0],setProducts=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),category=_useState8[0],setCategory=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),subCategory=_useState10[0],setSubCategory=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),manufacturer=_useState12[0],setManufacturer=_useState12[1];var search=window.location.search;var params=new URLSearchParams(search);var term=params.get('t')||'';var fornecedores=params.get('f')||'';var arrFornecedores=fornecedores?arrayStringToArrayInt(fornecedores):[];var categorias=params.get('c')||'';var arrCategorias=categorias?arrayStringToArrayInt(categorias):[];var subCategorias=params.get('s')||'';var arrSubCategorias=subCategorias?arrayStringToArrayInt(subCategorias):[];var filterHierarquia=function filterHierarquia(idList){var posArrHierarquia;var arr=idList;for(var a in arr){posArrHierarquia=getCategoryById(arr[a]);arr[a]=posArrHierarquia.Hierarquia;}return arr;};var arrHierarquia=null;var arrClearSubCategorias=null;var xArrClearSubCategorias=null;if(subCategorias){xArrClearSubCategorias=clearSubCategorias(arrSubCategorias,arrCategorias,getAllCategories(0));arrClearSubCategorias=clearSubCategorias(arrSubCategorias,arrCategorias,getAllCategories(0));arrHierarquia=filterHierarquia(arrClearSubCategorias);}if(categorias&&(arrHierarquia===null||arrHierarquia.length===0)){arrHierarquia=filterHierarquia(arrayStringToArrayInt(categorias));}// Paginate\nvar _useState13=useState(1),_useState14=_slicedToArray(_useState13,2),currentPage=_useState14[0],setCurrentPage=_useState14[1];var totalRecords=qtd;var recordPerPage=process.env.REACT_APP_PAGINATION_RECORD_PER_PAGE;var pageRange=process.env.REACT_APP_PAGINATION_PAGE_RANGE;var handlePageChange=function handlePageChange(pageNumber){if(currentPage!==pageNumber){setLoading(true);setCurrentPage(pageNumber);}};// Scroll\nuseEffect(function(){return scrollToTop();},[isLoading]);// Load Data\nuseEffect(function(){if(term===''&&fornecedores===''&&categorias===''){window.location.href='/';return null;}if(arrFornecedores.length===1){var listManufacturer=getManufacturerById(arrFornecedores);setManufacturer(listManufacturer);}if(arrCategorias.length===1){setCategory(function(listCategory){return getCategoryById(arrCategorias);});}if(xArrClearSubCategorias&&xArrClearSubCategorias.length===1&&arrCategorias.length>0){setSubCategory(function(listCategory){return getCategoryById(xArrClearSubCategorias);});}fetchProductsSearch(term===''?null:term,fornecedores===''?null:fornecedores,categorias===''?null:arrHierarquia,currentPage,recordPerPage).then(function(result){setProducts(result.data.Data.Dados);setQtd(result.data.Data.QuantidadeRegistrosTotal);}).then(function(result){return setLoading(false);}).catch(function(reject){disconnect();});},[currentPage]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"section\",{className:\"conteudo_interno conteudo_padrao container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"filtro-sticky d-none d-lg-block\"},/*#__PURE__*/React.createElement(Manufacturer,null),/*#__PURE__*/React.createElement(Category,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"cards-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"titulo-container\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"titulo h2\"},arrFornecedores.length>1&&/*#__PURE__*/React.createElement(\"small\",{className:\"text-muted\"},\"Fornecedor(es)\"),' ',manufacturer&&manufacturer.Nome,' ',arrCategorias.length>1&&/*#__PURE__*/React.createElement(\"small\",{className:\"text-muted\"},\"Categoria(s)\"),' ',category&&category.Descricao,' ',arrSubCategorias.length>1&&/*#__PURE__*/React.createElement(\"small\",{className:\"text-muted\"},\"Subcategoria(s)\"),' ',subCategory&&subCategory.Descricao,' ',term&&\"Busca \".concat(term)),/*#__PURE__*/React.createElement(\"p\",{className:\"total-itens\"},\"Total de Itens: \",/*#__PURE__*/React.createElement(\"span\",{className:\"total-itens_numero\"},qtd))),/*#__PURE__*/React.createElement(\"div\",{className:\"cards cards-produto\"},!isLoading?products.length>0?products.map(function(product){return/*#__PURE__*/React.createElement(ProductCard,{key:\"search-card-\".concat(product.idProduto),product:product,origin:arrOrigin['pagina_busca']});}):'Nenhum produto encontrado':/*#__PURE__*/React.createElement(Loader,{short:\"false\"})),/*#__PURE__*/React.createElement(\"nav\",{\"aria-label\":\"paginacao-promocoes\"},!isLoading&&/*#__PURE__*/React.createElement(Pagination,{hideFirstLastPages:true,activePage:currentPage,itemsCountPerPage:parseInt(recordPerPage),totalItemsCount:totalRecords,pageRangeDisplayed:parseInt(pageRange),onChange:handlePageChange,innerClass:\"pagination justify-content-end\",itemClass:\"page-item\",linkClass:\"page-link\"})))),/*#__PURE__*/React.createElement(Footer,null));};export default Search;","map":{"version":3,"sources":["C:/Users/victor.abrao/Desktop/source/clientes-blue-cycle-ecommerce/src/pages/Search.js"],"names":["React","useState","useEffect","Pagination","Header","Footer","Manufacturer","Category","ProductCard","Loader","scrollToTop","disconnect","arrayStringToArrayInt","clearSubCategorias","fetchProductsSearch","arrOrigin","getCategoryById","getAllCategories","getManufacturerById","Search","isLoading","setLoading","qtd","setQtd","products","setProducts","category","setCategory","subCategory","setSubCategory","manufacturer","setManufacturer","search","window","location","params","URLSearchParams","term","get","fornecedores","arrFornecedores","categorias","arrCategorias","subCategorias","arrSubCategorias","filterHierarquia","idList","posArrHierarquia","arr","a","Hierarquia","arrHierarquia","arrClearSubCategorias","xArrClearSubCategorias","length","currentPage","setCurrentPage","totalRecords","recordPerPage","process","env","REACT_APP_PAGINATION_RECORD_PER_PAGE","pageRange","REACT_APP_PAGINATION_PAGE_RANGE","handlePageChange","pageNumber","href","listManufacturer","listCategory","then","result","data","Data","Dados","QuantidadeRegistrosTotal","catch","reject","Nome","Descricao","map","product","idProduto","parseInt"],"mappings":"6JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,UAAP,KAAuB,qBAAvB,CACA;AACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CAEA,MAAOC,CAAAA,YAAP,KAAyB,oCAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,gCAArB,CAEA,MAAOC,CAAAA,WAAP,KAAwB,mCAAxB,CACA,OAASC,MAAT,KAAuB,6BAAvB,CACA,OAASC,WAAT,CAAsBC,UAAtB,CAAkCC,qBAAlC,CAAyDC,kBAAzD,KAAmF,UAAnF,CACA,OAASC,mBAAT,KAAoC,0BAApC,CACA,OAASC,SAAT,KAA0B,cAA1B,CACA,OAASC,eAAT,CAA0BC,gBAA1B,KAAkD,mCAAlD,CACA,OAASC,mBAAT,KAAoC,sCAApC,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,eACelB,QAAQ,CAAC,IAAD,CADvB,wCACVmB,SADU,eACCC,UADD,8BAEKpB,QAAQ,CAAC,CAAD,CAFb,yCAEVqB,GAFU,eAELC,MAFK,8BAGetB,QAAQ,CAAC,EAAD,CAHvB,yCAGVuB,QAHU,eAGAC,WAHA,8BAKexB,QAAQ,CAAC,EAAD,CALvB,yCAKVyB,QALU,eAKAC,WALA,8BAMqB1B,QAAQ,CAAC,EAAD,CAN7B,0CAMV2B,WANU,gBAMGC,cANH,gCAOuB5B,QAAQ,CAAC,EAAD,CAP/B,2CAOV6B,YAPU,gBAOIC,eAPJ,gBASjB,GAAIC,CAAAA,MAAM,CAAGC,MAAM,CAACC,QAAP,CAAgBF,MAA7B,CACA,GAAIG,CAAAA,MAAM,CAAG,GAAIC,CAAAA,eAAJ,CAAoBJ,MAApB,CAAb,CAEA,GAAMK,CAAAA,IAAI,CAAGF,MAAM,CAACG,GAAP,CAAW,GAAX,GAAmB,EAAhC,CACA,GAAMC,CAAAA,YAAY,CAAGJ,MAAM,CAACG,GAAP,CAAW,GAAX,GAAmB,EAAxC,CACA,GAAIE,CAAAA,eAAe,CAAGD,YAAY,CAAG3B,qBAAqB,CAAC2B,YAAD,CAAxB,CAAyC,EAA3E,CACA,GAAME,CAAAA,UAAU,CAAGN,MAAM,CAACG,GAAP,CAAW,GAAX,GAAmB,EAAtC,CACA,GAAII,CAAAA,aAAa,CAAGD,UAAU,CAAG7B,qBAAqB,CAAC6B,UAAD,CAAxB,CAAuC,EAArE,CACA,GAAME,CAAAA,aAAa,CAAGR,MAAM,CAACG,GAAP,CAAW,GAAX,GAAmB,EAAzC,CACA,GAAIM,CAAAA,gBAAgB,CAAGD,aAAa,CAAG/B,qBAAqB,CAAC+B,aAAD,CAAxB,CAA0C,EAA9E,CAEA,GAAME,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,MAAD,CAAY,CACjC,GAAIC,CAAAA,gBAAJ,CAEA,GAAIC,CAAAA,GAAG,CAAGF,MAAV,CAEA,IAAK,GAAIG,CAAAA,CAAT,GAAcD,CAAAA,GAAd,CAAmB,CACfD,gBAAgB,CAAG/B,eAAe,CAACgC,GAAG,CAACC,CAAD,CAAJ,CAAlC,CACAD,GAAG,CAACC,CAAD,CAAH,CAASF,gBAAgB,CAACG,UAA1B,CACH,CAED,MAAOF,CAAAA,GAAP,CACH,CAXD,CAaA,GAAIG,CAAAA,aAAa,CAAG,IAApB,CACA,GAAIC,CAAAA,qBAAqB,CAAG,IAA5B,CACA,GAAIC,CAAAA,sBAAsB,CAAG,IAA7B,CAEA,GAAIV,aAAJ,CAAmB,CACfU,sBAAsB,CAAGxC,kBAAkB,CAAC+B,gBAAD,CAAmBF,aAAnB,CAAkCzB,gBAAgB,CAAC,CAAD,CAAlD,CAA3C,CAEAmC,qBAAqB,CAAGvC,kBAAkB,CAAC+B,gBAAD,CAAmBF,aAAnB,CAAkCzB,gBAAgB,CAAC,CAAD,CAAlD,CAA1C,CACAkC,aAAa,CAAGN,gBAAgB,CAACO,qBAAD,CAAhC,CACH,CAED,GAAIX,UAAU,GAAKU,aAAa,GAAK,IAAlB,EAA0BA,aAAa,CAACG,MAAd,GAAyB,CAAxD,CAAd,CAA0E,CACtEH,aAAa,CAAGN,gBAAgB,CAACjC,qBAAqB,CAAC6B,UAAD,CAAtB,CAAhC,CACH,CAGD;AAjDiB,gBAkDqBxC,QAAQ,CAAC,CAAD,CAlD7B,2CAkDVsD,WAlDU,gBAkDGC,cAlDH,gBAmDjB,GAAMC,CAAAA,YAAY,CAAGnC,GAArB,CACA,GAAMoC,CAAAA,aAAa,CAAGC,OAAO,CAACC,GAAR,CAAYC,oCAAlC,CACA,GAAMC,CAAAA,SAAS,CAAGH,OAAO,CAACC,GAAR,CAAYG,+BAA9B,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAAAC,UAAU,CAAI,CACnC,GAAIV,WAAW,GAAKU,UAApB,CAAgC,CAC5B5C,UAAU,CAAC,IAAD,CAAV,CACAmC,cAAc,CAACS,UAAD,CAAd,CACH,CACJ,CALD,CAOA;AACA/D,SAAS,CAAC,iBAAMQ,CAAAA,WAAW,EAAjB,EAAD,CAAsB,CAACU,SAAD,CAAtB,CAAT,CAEA;AACAlB,SAAS,CAAC,UAAM,CACZ,GAAImC,IAAI,GAAK,EAAT,EAAeE,YAAY,GAAK,EAAhC,EAAsCE,UAAU,GAAK,EAAzD,CAA6D,CACzDR,MAAM,CAACC,QAAP,CAAgBgC,IAAhB,CAAuB,GAAvB,CACA,MAAO,KAAP,CACH,CAED,GAAI1B,eAAe,CAACc,MAAhB,GAA2B,CAA/B,CAAkC,CAC9B,GAAMa,CAAAA,gBAAgB,CAAGjD,mBAAmB,CAACsB,eAAD,CAA5C,CACAT,eAAe,CAACoC,gBAAD,CAAf,CACH,CAED,GAAIzB,aAAa,CAACY,MAAd,GAAyB,CAA7B,CAAgC,CAC5B3B,WAAW,CAAC,SAAAyC,YAAY,QAAIpD,CAAAA,eAAe,CAAC0B,aAAD,CAAnB,EAAb,CAAX,CACH,CAED,GAAIW,sBAAsB,EAAIA,sBAAsB,CAACC,MAAvB,GAAkC,CAA5D,EAAiEZ,aAAa,CAACY,MAAd,CAAuB,CAA5F,CAA+F,CAC3FzB,cAAc,CAAC,SAAAuC,YAAY,QAAIpD,CAAAA,eAAe,CAACqC,sBAAD,CAAnB,EAAb,CAAd,CACH,CAEDvC,mBAAmB,CAACuB,IAAI,GAAK,EAAT,CAAc,IAAd,CAAqBA,IAAtB,CAA4BE,YAAY,GAAK,EAAjB,CAAsB,IAAtB,CAA6BA,YAAzD,CAAuEE,UAAU,GAAK,EAAf,CAAoB,IAApB,CAA2BU,aAAlG,CAAiHI,WAAjH,CAA8HG,aAA9H,CAAnB,CACKW,IADL,CACU,SAAAC,MAAM,CAAI,CACZ7C,WAAW,CAAC6C,MAAM,CAACC,IAAP,CAAYC,IAAZ,CAAiBC,KAAlB,CAAX,CACAlD,MAAM,CAAC+C,MAAM,CAACC,IAAP,CAAYC,IAAZ,CAAiBE,wBAAlB,CAAN,CACH,CAJL,EAKKL,IALL,CAKU,SAAAC,MAAM,QAAIjD,CAAAA,UAAU,CAAC,KAAD,CAAd,EALhB,EAMKsD,KANL,CAMW,SAAAC,MAAM,CAAI,CACbjE,UAAU,GACb,CARL,EASH,CA5BQ,CA4BN,CAAC4C,WAAD,CA5BM,CAAT,CA8BA,mBACI,qDACI,oBAAC,MAAD,MADJ,cAEI,+BAAS,SAAS,CAAC,4CAAnB,eACI,2BAAK,SAAS,CAAC,iCAAf,eACI,oBAAC,YAAD,MADJ,cAEI,oBAAC,QAAD,MAFJ,CADJ,cAKI,2BAAK,SAAS,CAAC,iBAAf,eACI,2BAAK,SAAS,CAAC,kBAAf,eACI,0BAAI,SAAS,CAAC,WAAd,EACKf,eAAe,CAACc,MAAhB,CAAyB,CAAzB,eAA8B,6BAAO,SAAS,CAAC,YAAjB,mBADnC,CACyF,GADzF,CAEKxB,YAAY,EAAIA,YAAY,CAAC+C,IAFlC,CAEwC,GAFxC,CAGKnC,aAAa,CAACY,MAAd,CAAuB,CAAvB,eAA4B,6BAAO,SAAS,CAAC,YAAjB,iBAHjC,CAGqF,GAHrF,CAIK5B,QAAQ,EAAIA,QAAQ,CAACoD,SAJ1B,CAIqC,GAJrC,CAKKlC,gBAAgB,CAACU,MAAjB,CAA0B,CAA1B,eAA+B,6BAAO,SAAS,CAAC,YAAjB,oBALpC,CAK2F,GAL3F,CAMK1B,WAAW,EAAIA,WAAW,CAACkD,SANhC,CAM2C,GAN3C,CAOKzC,IAAI,kBAAaA,IAAb,CAPT,CADJ,cAUI,yBAAG,SAAS,CAAC,aAAb,kCAA2C,4BAAM,SAAS,CAAC,oBAAhB,EAAsCf,GAAtC,CAA3C,CAVJ,CADJ,cAaI,2BAAK,SAAS,CAAC,qBAAf,EACK,CAACF,SAAD,CACGI,QAAQ,CAAC8B,MAAT,CAAkB,CAAlB,CACM9B,QAAQ,CAACuD,GAAT,CAAa,SAAAC,OAAO,qBAClB,oBAAC,WAAD,EACI,GAAG,uBAAiBA,OAAO,CAACC,SAAzB,CADP,CAEI,OAAO,CAAED,OAFb,CAGI,MAAM,CAAEjE,SAAS,CAAC,cAAD,CAHrB,EADkB,EAApB,CADN,CAQM,2BATT,cAWO,oBAAC,MAAD,EAAQ,KAAK,CAAC,OAAd,EAZZ,CAbJ,cA4BI,2BAAK,aAAW,qBAAhB,EACK,CAACK,SAAD,eACG,oBAAC,UAAD,EACI,kBAAkB,KADtB,CAEI,UAAU,CAAEmC,WAFhB,CAGI,iBAAiB,CAAE2B,QAAQ,CAACxB,aAAD,CAH/B,CAII,eAAe,CAAED,YAJrB,CAKI,kBAAkB,CAAEyB,QAAQ,CAACpB,SAAD,CALhC,CAMI,QAAQ,CAAEE,gBANd,CAOI,UAAU,CAAC,gCAPf,CAQI,SAAS,CAAC,WARd,CASI,SAAS,CAAC,WATd,EAFR,CA5BJ,CALJ,CAFJ,cAoDI,oBAAC,MAAD,MApDJ,CADJ,CAwDH,CAxJD,CA0JA,cAAe7C,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Pagination from 'react-js-pagination';\r\n// default\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\n\r\nimport Manufacturer from '../components/SideBar/Manufacturer';\r\nimport Category from '../components/SideBar/Category';\r\n\r\nimport ProductCard from '../components/Product/ProductCard';\r\nimport { Loader } from '../components/Loader/Loader';\r\nimport { scrollToTop, disconnect, arrayStringToArrayInt, clearSubCategorias } from '../utils';\r\nimport { fetchProductsSearch } from '../services/products-api';\r\nimport { arrOrigin } from '../constants';\r\nimport { getCategoryById, getAllCategories } from '../containers/CategoriesContainer';\r\nimport { getManufacturerById } from '../containers/ManufacturersContainer';\r\n\r\nconst Search = () => {\r\n    const [isLoading, setLoading] = useState(true);\r\n    const [qtd, setQtd] = useState(0);\r\n    const [products, setProducts] = useState([]);\r\n\r\n    const [category, setCategory] = useState([]);\r\n    const [subCategory, setSubCategory] = useState([]);\r\n    const [manufacturer, setManufacturer] = useState([]);\r\n\r\n    let search = window.location.search;\r\n    let params = new URLSearchParams(search);\r\n\r\n    const term = params.get('t') || '';\r\n    const fornecedores = params.get('f') || '';\r\n    let arrFornecedores = fornecedores ? arrayStringToArrayInt(fornecedores) : [];\r\n    const categorias = params.get('c') || '';\r\n    let arrCategorias = categorias ? arrayStringToArrayInt(categorias) : [];\r\n    const subCategorias = params.get('s') || '';\r\n    let arrSubCategorias = subCategorias ? arrayStringToArrayInt(subCategorias) : [];\r\n\r\n    const filterHierarquia = (idList) => {\r\n        let posArrHierarquia;\r\n        \r\n        let arr = idList;\r\n\r\n        for (let a in arr) {\r\n            posArrHierarquia = getCategoryById(arr[a]);\r\n            arr[a] = posArrHierarquia.Hierarquia\r\n        }\r\n\r\n        return arr;\r\n    }\r\n\r\n    let arrHierarquia = null;\r\n    let arrClearSubCategorias = null;\r\n    let xArrClearSubCategorias = null;\r\n\r\n    if (subCategorias) {\r\n        xArrClearSubCategorias = clearSubCategorias(arrSubCategorias, arrCategorias, getAllCategories(0));\r\n\r\n        arrClearSubCategorias = clearSubCategorias(arrSubCategorias, arrCategorias, getAllCategories(0));\r\n        arrHierarquia = filterHierarquia(arrClearSubCategorias);\r\n    }\r\n\r\n    if (categorias && (arrHierarquia === null || arrHierarquia.length === 0)) {\r\n        arrHierarquia = filterHierarquia(arrayStringToArrayInt(categorias))\r\n    }\r\n\r\n\r\n    // Paginate\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const totalRecords = qtd;\r\n    const recordPerPage = process.env.REACT_APP_PAGINATION_RECORD_PER_PAGE;\r\n    const pageRange = process.env.REACT_APP_PAGINATION_PAGE_RANGE;\r\n\r\n    const handlePageChange = pageNumber => {\r\n        if (currentPage !== pageNumber) {\r\n            setLoading(true)\r\n            setCurrentPage(pageNumber);\r\n        }\r\n    }\r\n\r\n    // Scroll\r\n    useEffect(() => scrollToTop(), [isLoading]);\r\n\r\n    // Load Data\r\n    useEffect(() => {\r\n        if (term === '' && fornecedores === '' && categorias === '') {\r\n            window.location.href = '/';\r\n            return null;\r\n        }\r\n\r\n        if (arrFornecedores.length === 1) {\r\n            const listManufacturer = getManufacturerById(arrFornecedores);\r\n            setManufacturer(listManufacturer);\r\n        }\r\n\r\n        if (arrCategorias.length === 1) {\r\n            setCategory(listCategory => getCategoryById(arrCategorias));\r\n        }\r\n\r\n        if (xArrClearSubCategorias && xArrClearSubCategorias.length === 1 && arrCategorias.length > 0) {\r\n            setSubCategory(listCategory => getCategoryById(xArrClearSubCategorias));\r\n        }\r\n\r\n        fetchProductsSearch(term === '' ? null : term, fornecedores === '' ? null : fornecedores, categorias === '' ? null : arrHierarquia, currentPage, recordPerPage)\r\n            .then(result => {\r\n                setProducts(result.data.Data.Dados)\r\n                setQtd(result.data.Data.QuantidadeRegistrosTotal)\r\n            })\r\n            .then(result => setLoading(false))\r\n            .catch(reject => {\r\n                disconnect();\r\n            })\r\n    }, [currentPage])\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <section className=\"conteudo_interno conteudo_padrao container\">\r\n                <div className=\"filtro-sticky d-none d-lg-block\">\r\n                    <Manufacturer />\r\n                    <Category />\r\n                </div>\r\n                <div className=\"cards-container\">\r\n                    <div className=\"titulo-container\">\r\n                        <h4 className=\"titulo h2\">\r\n                            {arrFornecedores.length > 1 && <small className=\"text-muted\">Fornecedor(es)</small>}{' '}\r\n                            {manufacturer && manufacturer.Nome}{' '}\r\n                            {arrCategorias.length > 1 && <small className=\"text-muted\">Categoria(s)</small>}{' '}\r\n                            {category && category.Descricao}{' '}\r\n                            {arrSubCategorias.length > 1 && <small className=\"text-muted\">Subcategoria(s)</small>}{' '}\r\n                            {subCategory && subCategory.Descricao}{' '}\r\n                            {term && `Busca ${term}`}\r\n                        </h4>\r\n                        <p className=\"total-itens\">Total de Itens: <span className=\"total-itens_numero\">{qtd}</span></p>\r\n                    </div>\r\n                    <div className=\"cards cards-produto\">\r\n                        {!isLoading ? (\r\n                            products.length > 0\r\n                                ? products.map(product =>\r\n                                    <ProductCard\r\n                                        key={`search-card-${product.idProduto}`}\r\n                                        product={product}\r\n                                        origin={arrOrigin['pagina_busca']}\r\n                                    />\r\n                                )\r\n                                : 'Nenhum produto encontrado'\r\n                        ) : (\r\n                                <Loader short=\"false\" />\r\n                            )}\r\n                    </div>\r\n                    <nav aria-label=\"paginacao-promocoes\">\r\n                        {!isLoading &&\r\n                            <Pagination\r\n                                hideFirstLastPages\r\n                                activePage={currentPage}\r\n                                itemsCountPerPage={parseInt(recordPerPage)}\r\n                                totalItemsCount={totalRecords}\r\n                                pageRangeDisplayed={parseInt(pageRange)}\r\n                                onChange={handlePageChange}\r\n                                innerClass=\"pagination justify-content-end\"\r\n                                itemClass=\"page-item\"\r\n                                linkClass=\"page-link\"\r\n                            />\r\n                        }\r\n                    </nav>\r\n                </div>\r\n            </section>\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}